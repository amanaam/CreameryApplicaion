# Logfile created on 2020-03-30 17:12:54 +0000 by logger.rb/v1.4.2
D, [2020-03-30T17:12:54.403011 #21825] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-03-30T17:12:55.703064 #21825] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:55.703798 #21825]  INFO -- : ---------------------------------------------------------------------------------------------
I, [2020-03-30T17:12:55.703869 #21825]  INFO -- : AssignmentTest: test_: Given context should terminate an assignment effectively as of today. 
I, [2020-03-30T17:12:55.704014 #21825]  INFO -- : ---------------------------------------------------------------------------------------------
D, [2020-03-30T17:12:55.734447 #21825] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.737534 #21825] DEBUG -- :   [1m[36mStore Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-30T17:12:55.740865 #21825] DEBUG -- :   [1m[36mStore Create (1.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7362419375"], ["active", 1]]
D, [2020-03-30T17:12:55.743025 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.744667 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.746498 #21825] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-30T17:12:55.748588 #21825] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-30T17:12:55.750144 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.751360 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.752758 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-30T17:12:55.754303 #21825] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0401573785"], ["active", 0]]
D, [2020-03-30T17:12:55.755805 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.775146 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.778923 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "376544362"], ["LIMIT", 1]]
D, [2020-03-30T17:12:55.780668 #21825] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "376544362"], ["date_of_birth", "2001-03-30"], ["phone", "1808047896"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:55.782115 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.783582 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.785093 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-30T17:12:55.786529 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-30"], ["phone", "2732122775"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:55.787827 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.789094 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.790468 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "228121159"], ["LIMIT", 1]]
D, [2020-03-30T17:12:55.791767 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "228121159"], ["date_of_birth", "2004-03-30"], ["phone", "9467275281"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:55.792992 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.794343 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.795705 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "137057186"], ["LIMIT", 1]]
D, [2020-03-30T17:12:55.797031 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "137057186"], ["date_of_birth", "1994-03-30"], ["phone", "4552936623"], ["role", "employee"], ["active", 0]]
D, [2020-03-30T17:12:55.798297 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.799554 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.800824 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-30T17:12:55.802148 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-30"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:55.803396 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.804726 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.806068 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-30T17:12:55.807402 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-30"], ["phone", "9757553156"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:55.808594 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.809790 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.811032 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "355590817"], ["LIMIT", 1]]
D, [2020-03-30T17:12:55.812303 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "355590817"], ["date_of_birth", "2001-03-30"], ["phone", "0791611199"], ["role", "admin"], ["active", 1]]
D, [2020-03-30T17:12:55.813498 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.833329 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.835264 #21825] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:55.837515 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:55.839130 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-30T17:12:55.848730 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-30T17:12:55.850004 #21825] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-30"], ["end_date", "2020-02-29"]]
D, [2020-03-30T17:12:55.850902 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.852153 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.853284 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:55.854433 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:55.855396 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-30T17:12:55.856758 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-30T17:12:55.857657 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-30"]]
D, [2020-03-30T17:12:55.858440 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.859522 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.860475 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:55.861414 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:55.862296 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-30T17:12:55.863572 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-30T17:12:55.864498 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-30"]]
D, [2020-03-30T17:12:55.865206 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.866390 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.867384 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:55.868317 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:55.869178 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:55.870415 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:55.871286 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-30"], ["end_date", "2019-09-30"]]
D, [2020-03-30T17:12:55.872093 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.873205 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.874189 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:55.875140 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:55.876059 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:55.877284 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:55.878202 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-30"]]
D, [2020-03-30T17:12:55.879011 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.880165 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.881199 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:55.887522 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:55.888433 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-30T17:12:55.889694 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-30T17:12:55.890549 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-30"]]
D, [2020-03-30T17:12:55.891259 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.891876 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-30T17:12:55.892964 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-30T17:12:55.893859 #21825] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) ORDER BY "assignments"."id" ASC LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-30T17:12:55.894659 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.895585 #21825] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2020-03-30"], ["id", 6]]
D, [2020-03-30T17:12:55.896240 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.897082 #21825] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-30T17:12:55.897940 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.898604 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:55.899156 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.899570 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.900109 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:55.900611 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.901017 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.901557 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:55.902097 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.902498 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.903020 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-30T17:12:55.903533 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.903898 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.904439 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-30T17:12:55.904945 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.905337 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.905937 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-30T17:12:55.906452 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.906876 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.907474 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:55.908005 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.908412 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.908957 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:55.909492 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.909889 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.910444 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:55.910947 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.911355 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.911885 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-30T17:12:55.912386 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.912785 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.913323 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-30T17:12:55.913850 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.914240 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.914783 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-30T17:12:55.915278 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.915675 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.916213 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-30T17:12:55.916723 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.917132 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.917740 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:55.918282 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.918686 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.919244 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:55.919787 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.920241 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.920775 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:55.921349 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.922016 #21825] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:55.922715 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:55.922981 #21825]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-03-30T17:12:55.923013 #21825]  INFO -- : AssignmentTest: test_: Assignment should not allow :start_date to be â€¹Mon, 06 Apr 2020â€º. 
I, [2020-03-30T17:12:55.923034 #21825]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-03-30T17:12:55.926729 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:55.927594 #21825] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:55.928296 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:55.928889 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:55.929147 #21825]  INFO -- : -------------------------------------------------------------------------------------
I, [2020-03-30T17:12:55.929180 #21825]  INFO -- : AssignmentTest: test_: Assignment should allow :start_date to be â€¹Fri, 30 Mar 2018â€º. 
I, [2020-03-30T17:12:55.929256 #21825]  INFO -- : -------------------------------------------------------------------------------------
D, [2020-03-30T17:12:55.931711 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:55.932526 #21825] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:55.933264 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:55.933912 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:55.934190 #21825]  INFO -- : --------------------------------------------------------------------------------
I, [2020-03-30T17:12:55.934222 #21825]  INFO -- : AssignmentTest: test_: Given context should have a scope 'for_role' that works. 
I, [2020-03-30T17:12:55.934242 #21825]  INFO -- : --------------------------------------------------------------------------------
D, [2020-03-30T17:12:55.934903 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.936170 #21825] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-30T17:12:55.937531 #21825] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8052420558"], ["active", 1]]
D, [2020-03-30T17:12:55.938766 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.939658 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.940700 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-30T17:12:55.941802 #21825] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-30T17:12:55.942858 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.943764 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.944758 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-30T17:12:55.945847 #21825] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6908455043"], ["active", 0]]
D, [2020-03-30T17:12:55.946905 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.947998 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.949181 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "011915114"], ["LIMIT", 1]]
D, [2020-03-30T17:12:55.950307 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "011915114"], ["date_of_birth", "2001-03-30"], ["phone", "3053046942"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:55.951396 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.952475 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.953602 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-30T17:12:55.954718 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-30"], ["phone", "1436245433"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:55.955872 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.956972 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.958109 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "333291993"], ["LIMIT", 1]]
D, [2020-03-30T17:12:55.959222 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "333291993"], ["date_of_birth", "2004-03-30"], ["phone", "4756529824"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:55.960239 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.961244 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.962314 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "154235499"], ["LIMIT", 1]]
D, [2020-03-30T17:12:55.963360 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "154235499"], ["date_of_birth", "1994-03-30"], ["phone", "9939542783"], ["role", "employee"], ["active", 0]]
D, [2020-03-30T17:12:55.964368 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.965395 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.966483 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-30T17:12:55.967524 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-30"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:55.968524 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.969589 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.970692 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-30T17:12:55.971804 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-30"], ["phone", "0467649618"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:55.972823 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.973865 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.974923 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "282524136"], ["LIMIT", 1]]
D, [2020-03-30T17:12:55.975946 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "282524136"], ["date_of_birth", "2001-03-30"], ["phone", "1716541166"], ["role", "admin"], ["active", 1]]
D, [2020-03-30T17:12:55.976942 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.978049 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.979115 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:55.980098 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:55.980985 #21825] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-30T17:12:55.982251 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-30T17:12:55.983219 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-30"], ["end_date", "2020-02-29"]]
D, [2020-03-30T17:12:55.984002 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.985045 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.986071 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:55.987052 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:55.987907 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-30T17:12:55.989118 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-30T17:12:55.990000 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-30"]]
D, [2020-03-30T17:12:55.990748 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.991794 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.992733 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:55.993714 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:55.994577 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-30T17:12:55.995871 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-30T17:12:55.996738 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-30"]]
D, [2020-03-30T17:12:55.997519 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.998741 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:55.999745 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.000687 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.001557 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.002808 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.003694 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-30"], ["end_date", "2019-09-30"]]
D, [2020-03-30T17:12:56.004544 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.005605 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.006623 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.007701 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.008592 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.009925 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.010816 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-30"]]
D, [2020-03-30T17:12:56.011529 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.012653 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.013597 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.014552 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.015423 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.016635 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.017495 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-30"]]
D, [2020-03-30T17:12:56.018261 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.023984 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE (role = 'employee')[0m
D, [2020-03-30T17:12:56.024968 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE (role = 'manager')[0m
D, [2020-03-30T17:12:56.025426 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.026186 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:56.026777 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.027183 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.027745 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:56.028256 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.028665 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.029240 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:56.029800 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.030213 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.030772 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-30T17:12:56.031299 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.031704 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.032271 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-30T17:12:56.032780 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.033183 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.033753 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-30T17:12:56.034280 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.034687 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.035250 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:56.035788 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.036224 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.036805 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:56.037321 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.037800 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.038358 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:56.038900 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.039302 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.039857 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-30T17:12:56.040410 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.040831 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.041398 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-30T17:12:56.041962 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.042404 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.042997 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-30T17:12:56.043563 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.044007 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.048302 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-30T17:12:56.048879 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.049314 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.049923 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:56.050475 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.050899 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.051473 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:56.052008 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.052450 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.052963 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:56.053567 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.054177 #21825] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:56.054881 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:56.055173 #21825]  INFO -- : ---------------------------------------------------------------------------------------------------
I, [2020-03-30T17:12:56.055206 #21825]  INFO -- : AssignmentTest: test_: Given context should have a scope to find all assignments for a given date. 
I, [2020-03-30T17:12:56.055227 #21825]  INFO -- : ---------------------------------------------------------------------------------------------------
D, [2020-03-30T17:12:56.055814 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.057044 #21825] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.058326 #21825] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3058572262"], ["active", 1]]
D, [2020-03-30T17:12:56.059441 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.060311 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.061287 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.062383 #21825] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-30T17:12:56.063543 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.064343 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.065321 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.066407 #21825] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2831062006"], ["active", 0]]
D, [2020-03-30T17:12:56.067559 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.068588 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.069752 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "063695791"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.070972 #21825] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "063695791"], ["date_of_birth", "2001-03-30"], ["phone", "9124278054"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:56.072144 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.073140 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.074241 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.075402 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-30"], ["phone", "6293928231"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:56.076542 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.077560 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.078651 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "019991425"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.079727 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "019991425"], ["date_of_birth", "2004-03-30"], ["phone", "0270279359"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:56.080897 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.081939 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.083014 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "178835226"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.084045 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "178835226"], ["date_of_birth", "1994-03-30"], ["phone", "9687436478"], ["role", "employee"], ["active", 0]]
D, [2020-03-30T17:12:56.085266 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.086359 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.087447 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.088555 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-30"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:56.089708 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.090823 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.091891 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.092927 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-30"], ["phone", "3792167657"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:56.094079 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.095070 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.096147 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "339918968"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.097233 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "339918968"], ["date_of_birth", "2001-03-30"], ["phone", "4141366870"], ["role", "admin"], ["active", 1]]
D, [2020-03-30T17:12:56.098439 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.099555 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.100676 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.101738 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.102649 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.104026 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.105173 #21825] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-30"], ["end_date", "2020-02-29"]]
D, [2020-03-30T17:12:56.106054 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.107158 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.108129 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.109188 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.110126 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.111396 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.112291 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-30"]]
D, [2020-03-30T17:12:56.113108 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.114330 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.115387 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.116350 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.117383 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.118868 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.119896 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-30"]]
D, [2020-03-30T17:12:56.120943 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.122307 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.123539 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.125886 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.128696 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.131694 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.133646 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-30"], ["end_date", "2019-09-30"]]
D, [2020-03-30T17:12:56.135435 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.137913 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.139465 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.141570 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.143601 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.147115 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.148995 #21825] DEBUG -- :   [1m[36mAssignment Create (1.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-30"]]
D, [2020-03-30T17:12:56.151115 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.154502 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.156866 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.158837 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.160678 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.163844 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.166349 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-30"]]
D, [2020-03-30T17:12:56.167672 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.169579 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (start_date <= '2019-04-30' AND (end_date > '2019-04-30' OR end_date IS NULL))[0m
D, [2020-03-30T17:12:56.171422 #21825] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT "assignments".* FROM "assignments" WHERE (start_date <= '2019-04-30' AND (end_date > '2019-04-30' OR end_date IS NULL))[0m
D, [2020-03-30T17:12:56.173607 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.175583 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.177435 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.179294 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.180767 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:56.181308 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.182678 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.183253 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:56.184949 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.185375 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.186568 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:56.187273 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.187681 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.188421 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-30T17:12:56.189108 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.189684 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.190226 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-30T17:12:56.191201 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.191601 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.192244 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-30T17:12:56.192750 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.193258 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.193834 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:56.194468 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.195093 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.195660 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:56.196274 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.196691 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.197216 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:56.197878 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.198267 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.198991 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-30T17:12:56.199519 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.200055 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.200608 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-30T17:12:56.201281 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.201720 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.202459 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-30T17:12:56.202974 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.203520 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.204064 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-30T17:12:56.204726 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.205130 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.205828 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:56.206351 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.206906 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.207439 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:56.208115 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.208508 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.209204 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:56.209737 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.210495 #21825] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:56.211081 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:56.211313 #21825]  INFO -- : -----------------------------------------------------------------------------------------------------------
I, [2020-03-30T17:12:56.211346 #21825]  INFO -- : AssignmentTest: test_: Given context should have all the assignments listed chronologically by start date. 
I, [2020-03-30T17:12:56.211366 #21825]  INFO -- : -----------------------------------------------------------------------------------------------------------
D, [2020-03-30T17:12:56.212123 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.213335 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.214680 #21825] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3497907772"], ["active", 1]]
D, [2020-03-30T17:12:56.215837 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.217011 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.217950 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.219287 #21825] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-30T17:12:56.220504 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.221425 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.222520 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.223753 #21825] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3431895807"], ["active", 0]]
D, [2020-03-30T17:12:56.224897 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.226066 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.227393 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "164836181"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.228616 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "164836181"], ["date_of_birth", "2001-03-30"], ["phone", "0052989470"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:56.229929 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.231080 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.232270 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.233695 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-30"], ["phone", "2237739987"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:56.235762 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.239003 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.240102 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "253111386"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.242182 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "253111386"], ["date_of_birth", "2004-03-30"], ["phone", "3564482930"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:56.244961 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.272261 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.273734 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "005186911"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.274822 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "005186911"], ["date_of_birth", "1994-03-30"], ["phone", "2084416768"], ["role", "employee"], ["active", 0]]
D, [2020-03-30T17:12:56.275828 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.276946 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.278028 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.279067 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-30"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:56.280147 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.281166 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.282201 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.283231 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-30"], ["phone", "5271514941"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:56.284227 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.285162 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.286188 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "217070936"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.287229 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "217070936"], ["date_of_birth", "2001-03-30"], ["phone", "8080206364"], ["role", "admin"], ["active", 1]]
D, [2020-03-30T17:12:56.288174 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.289238 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.290273 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.291256 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.292162 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.293415 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.294400 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-30"], ["end_date", "2020-02-29"]]
D, [2020-03-30T17:12:56.295212 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.296193 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.297096 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.298166 #21825] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.299004 #21825] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.300255 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.301093 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-30"]]
D, [2020-03-30T17:12:56.301826 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.302830 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.303763 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.304712 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.305596 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.306793 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.307642 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-30"]]
D, [2020-03-30T17:12:56.308342 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.309525 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.310503 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.311471 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.312335 #21825] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.313635 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.314518 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-30"], ["end_date", "2019-09-30"]]
D, [2020-03-30T17:12:56.315310 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.316281 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.317201 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.318171 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.319046 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.320277 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.321130 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-30"]]
D, [2020-03-30T17:12:56.321917 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.322891 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.323843 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.324742 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.325604 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.326808 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.327675 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-30"]]
D, [2020-03-30T17:12:56.328438 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.329136 #21825] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT "assignments".* FROM "assignments" ORDER BY start_date DESC, end_date DESC[0m
D, [2020-03-30T17:12:56.330024 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.330965 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.331882 #21825] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.332769 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.333718 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.334602 #21825] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.335248 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.335862 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:56.336399 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.336811 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.337366 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:56.337964 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.338344 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.338925 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:56.339445 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.339866 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.340435 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-30T17:12:56.340950 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.341367 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.341960 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-30T17:12:56.342485 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.342856 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.343434 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-30T17:12:56.343952 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.344350 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.344921 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:56.345450 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.345912 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.346471 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:56.346993 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.347416 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.348017 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:56.348555 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.348974 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.349529 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-30T17:12:56.350115 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.350525 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.351080 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-30T17:12:56.351611 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.352067 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.352669 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-30T17:12:56.353208 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.353679 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.354249 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-30T17:12:56.354830 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.355257 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.355832 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:56.356347 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.356756 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.357307 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:56.357849 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.358247 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.358852 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:56.359372 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.360027 #21825] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:56.360631 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:56.360900 #21825]  INFO -- : -------------------------------------------------------------
I, [2020-03-30T17:12:56.360936 #21825]  INFO -- : AssignmentTest: test_: Assignment should belong to employee. 
I, [2020-03-30T17:12:56.360954 #21825]  INFO -- : -------------------------------------------------------------
D, [2020-03-30T17:12:56.361335 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:56.361858 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:56.362077 #21825]  INFO -- : ------------------------------------------------------------------------------------------------------------------------------------
I, [2020-03-30T17:12:56.362108 #21825]  INFO -- : AssignmentTest: test_: Given context should end the current assignment if it exists before adding a new assignment for an employee. 
I, [2020-03-30T17:12:56.362127 #21825]  INFO -- : ------------------------------------------------------------------------------------------------------------------------------------
D, [2020-03-30T17:12:56.362704 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.363825 #21825] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.365052 #21825] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9388140785"], ["active", 1]]
D, [2020-03-30T17:12:56.366100 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.366900 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.367770 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.368786 #21825] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-30T17:12:56.369897 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.370721 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.371601 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.372611 #21825] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3059893959"], ["active", 0]]
D, [2020-03-30T17:12:56.373667 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.374615 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.375655 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "182318479"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.376725 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "182318479"], ["date_of_birth", "2001-03-30"], ["phone", "7126767612"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:56.377784 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.378792 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.379841 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.380851 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-30"], ["phone", "0575406185"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:56.381968 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.382929 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.383975 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "044176887"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.385012 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "044176887"], ["date_of_birth", "2004-03-30"], ["phone", "4786247891"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:56.386073 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.387076 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.388141 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "108995487"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.389196 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "108995487"], ["date_of_birth", "1994-03-30"], ["phone", "8747822194"], ["role", "employee"], ["active", 0]]
D, [2020-03-30T17:12:56.390286 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.391293 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.392304 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.393361 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-30"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:56.394433 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.395486 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.396526 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.397605 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-30"], ["phone", "4433328660"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:56.398721 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.399704 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.400704 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "245904656"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.401756 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "245904656"], ["date_of_birth", "2001-03-30"], ["phone", "1499396482"], ["role", "admin"], ["active", 1]]
D, [2020-03-30T17:12:56.402842 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.403943 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.404988 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.406026 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.406931 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.408284 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.409271 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-30"], ["end_date", "2020-02-29"]]
D, [2020-03-30T17:12:56.410126 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.411159 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.412136 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.413131 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.414086 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.415409 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.416321 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-30"]]
D, [2020-03-30T17:12:56.419338 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.420394 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.421320 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.422346 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.423235 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.424421 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.425268 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-30"]]
D, [2020-03-30T17:12:56.426043 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.427142 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.428121 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.429081 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.429989 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.431187 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.432116 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-30"], ["end_date", "2019-09-30"]]
D, [2020-03-30T17:12:56.432887 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.433862 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.434779 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.435689 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.436551 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.437729 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.438584 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-30"]]
D, [2020-03-30T17:12:56.439292 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.440262 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.441195 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.442173 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.442996 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.444164 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.445015 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-30"]]
D, [2020-03-30T17:12:56.445795 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.446783 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.447669 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.448611 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.449432 #21825] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.450643 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.451546 #21825] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) ORDER BY "assignments"."id" ASC LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.452702 #21825] DEBUG -- :   [1m[36mAssignment Update (0.1ms)[0m  [1m[33mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2020-03-29"], ["id", 6]]
D, [2020-03-30T17:12:56.453614 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2020-03-29"]]
D, [2020-03-30T17:12:56.454350 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.455457 #21825] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ? ORDER BY "assignments"."id" ASC LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.456141 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.456722 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 7]]
D, [2020-03-30T17:12:56.457267 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.457680 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.458237 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:56.458773 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.459157 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.459792 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:56.460276 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.460693 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.461218 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:56.461820 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.462191 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.462758 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-30T17:12:56.463285 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.463693 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.464276 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-30T17:12:56.464787 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.465202 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.465792 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-30T17:12:56.466305 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.466690 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.467242 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:56.467802 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.468180 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.468733 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:56.469232 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.469679 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.470220 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:56.470762 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.471148 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.471694 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-30T17:12:56.472209 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.472596 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.473137 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-30T17:12:56.473676 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.474112 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.474655 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-30T17:12:56.475196 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.475603 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.476114 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-30T17:12:56.476667 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.477072 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.477691 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:56.478181 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.478624 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.479157 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:56.479704 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.480070 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.480605 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:56.481133 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.481761 #21825] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:56.482423 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:56.482661 #21825]  INFO -- : -------------------------------------------------------------------------------------------------------------
I, [2020-03-30T17:12:56.482694 #21825]  INFO -- : AssignmentTest: test_: Given context should identify a non-active employee as part of an invalid assignment. 
I, [2020-03-30T17:12:56.482713 #21825]  INFO -- : -------------------------------------------------------------------------------------------------------------
D, [2020-03-30T17:12:56.483264 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.484313 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.485473 #21825] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0650873373"], ["active", 1]]
D, [2020-03-30T17:12:56.486481 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.487190 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.488099 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.489078 #21825] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-30T17:12:56.490108 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.490878 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.491707 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.492651 #21825] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6498366232"], ["active", 0]]
D, [2020-03-30T17:12:56.493615 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.494545 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.495606 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "291963011"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.496643 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "291963011"], ["date_of_birth", "2001-03-30"], ["phone", "8535783466"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:56.497690 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.498641 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.499659 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.500649 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-30"], ["phone", "1680095496"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:56.501708 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.502617 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.503577 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "033383608"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.504599 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "033383608"], ["date_of_birth", "2004-03-30"], ["phone", "9615051570"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:56.505568 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.506545 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.507516 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "369544922"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.508503 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "369544922"], ["date_of_birth", "1994-03-30"], ["phone", "3039442587"], ["role", "employee"], ["active", 0]]
D, [2020-03-30T17:12:56.509500 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.510467 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.511483 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.512491 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-30"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:56.513467 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.514468 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.515442 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.516482 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-30"], ["phone", "7035371188"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:56.517434 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.518366 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.519351 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "150381246"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.520334 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "150381246"], ["date_of_birth", "2001-03-30"], ["phone", "3050951509"], ["role", "admin"], ["active", 1]]
D, [2020-03-30T17:12:56.521293 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.522352 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.523382 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.524357 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.525187 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.526398 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.527307 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-30"], ["end_date", "2020-02-29"]]
D, [2020-03-30T17:12:56.528108 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.529033 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.529997 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.530939 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.531824 #21825] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.533013 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.533904 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-30"]]
D, [2020-03-30T17:12:56.534666 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.535714 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.536602 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.537538 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.538437 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.539594 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.540447 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-30"]]
D, [2020-03-30T17:12:56.541168 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.542247 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.543240 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.544157 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.544995 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.546170 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.547035 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-30"], ["end_date", "2019-09-30"]]
D, [2020-03-30T17:12:56.547831 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.548794 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.549731 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.550660 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.551504 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.552670 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.553482 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-30"]]
D, [2020-03-30T17:12:56.554189 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.555169 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.556070 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.556970 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.557838 #21825] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.558960 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.559867 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-30"]]
D, [2020-03-30T17:12:56.560566 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.562982 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.563916 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.564532 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.565167 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:56.565697 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.566132 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.566685 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:56.567208 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.567596 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.568205 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:56.568686 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.569118 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.569675 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-30T17:12:56.570198 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.570583 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.571114 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-30T17:12:56.571664 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.572034 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.572630 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-30T17:12:56.573111 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.573546 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.574103 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:56.574686 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.575068 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.575605 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:56.576134 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.576540 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.577120 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:56.577604 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.578064 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.578591 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-30T17:12:56.579141 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.579532 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.580052 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-30T17:12:56.580606 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.580976 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.581651 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-30T17:12:56.582127 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.582562 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.583087 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-30T17:12:56.583574 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.584005 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.584547 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:56.585078 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.585456 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.585993 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:56.586519 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.586894 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.587482 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:56.587954 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.588572 #21825] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:56.589155 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:56.589383 #21825]  INFO -- : ------------------------------------------------------------------------------
I, [2020-03-30T17:12:56.589425 #21825]  INFO -- : AssignmentTest: test_: Assignment should not allow :start_date to be â€¹"bad"â€º. 
I, [2020-03-30T17:12:56.589445 #21825]  INFO -- : ------------------------------------------------------------------------------
D, [2020-03-30T17:12:56.592818 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.593614 #21825] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.594286 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:56.594824 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:56.595051 #21825]  INFO -- : ----------------------------------------------------------------------------
I, [2020-03-30T17:12:56.595082 #21825]  INFO -- : AssignmentTest: test_: Assignment should not allow :start_date to be â€¹nilâ€º. 
I, [2020-03-30T17:12:56.595102 #21825]  INFO -- : ----------------------------------------------------------------------------
D, [2020-03-30T17:12:56.598007 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.598783 #21825] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.599420 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:56.599933 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:56.600156 #21825]  INFO -- : ---------------------------------------------------------------------------------------------------------------
I, [2020-03-30T17:12:56.600189 #21825]  INFO -- : AssignmentTest: test_: Given context should have a scope to find all past assignments for a store or employee. 
I, [2020-03-30T17:12:56.600208 #21825]  INFO -- : ---------------------------------------------------------------------------------------------------------------
D, [2020-03-30T17:12:56.600782 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.601768 #21825] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.602919 #21825] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9938147662"], ["active", 1]]
D, [2020-03-30T17:12:56.603908 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.604646 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.605507 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.606478 #21825] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-30T17:12:56.607435 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.608165 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.608991 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.609967 #21825] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9510021529"], ["active", 0]]
D, [2020-03-30T17:12:56.610891 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.611817 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.612832 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "181857895"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.613929 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "181857895"], ["date_of_birth", "2001-03-30"], ["phone", "6672270471"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:56.614928 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.615895 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.616844 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.617897 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-30"], ["phone", "8028420428"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:56.618911 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.619821 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.620823 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "021996547"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.621790 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "021996547"], ["date_of_birth", "2004-03-30"], ["phone", "9502090090"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:56.622765 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.623752 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.624770 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "163463744"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.625745 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "163463744"], ["date_of_birth", "1994-03-30"], ["phone", "7679017995"], ["role", "employee"], ["active", 0]]
D, [2020-03-30T17:12:56.626690 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.627688 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.628620 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.629637 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-30"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:56.630656 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.631613 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.632602 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.633575 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-30"], ["phone", "6782521655"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:56.634537 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.635443 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.636379 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "259204739"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.637355 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "259204739"], ["date_of_birth", "2001-03-30"], ["phone", "4625439911"], ["role", "admin"], ["active", 1]]
D, [2020-03-30T17:12:56.638395 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.639413 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.640402 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.641344 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.642257 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.643486 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.644358 #21825] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-30"], ["end_date", "2020-02-29"]]
D, [2020-03-30T17:12:56.645188 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.646160 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.647031 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.647958 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.648839 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.650004 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.650855 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-30"]]
D, [2020-03-30T17:12:56.651550 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.652463 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.653355 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.654328 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.655145 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.656335 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.657200 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-30"]]
D, [2020-03-30T17:12:56.657980 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.659038 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.659982 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.660963 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.661798 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.662976 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.663807 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-30"], ["end_date", "2019-09-30"]]
D, [2020-03-30T17:12:56.664626 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.665607 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.666526 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.667486 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.668344 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.669514 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.670439 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-30"]]
D, [2020-03-30T17:12:56.671162 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.672122 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.673004 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.673943 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.674823 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.676033 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.676874 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-30"]]
D, [2020-03-30T17:12:56.677591 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.678418 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (end_date IS NOT NULL) AND (store_id = 1)[0m
D, [2020-03-30T17:12:56.679110 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (end_date IS NOT NULL) AND (store_id = 2)[0m
D, [2020-03-30T17:12:56.679818 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (end_date IS NOT NULL) AND (employee_id = 5)[0m
D, [2020-03-30T17:12:56.680536 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (end_date IS NOT NULL) AND (employee_id = 2)[0m
D, [2020-03-30T17:12:56.680942 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.681598 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:56.682126 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.682567 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.683107 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:56.683648 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.684013 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.684575 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:56.685113 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.685502 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.686107 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-30T17:12:56.686597 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.686984 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.687568 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-30T17:12:56.688044 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.688450 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.689030 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-30T17:12:56.689517 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.689938 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.690482 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:56.690985 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.691368 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.691922 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:56.692446 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.692823 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.693379 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:56.694028 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.694474 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.694999 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-30T17:12:56.695512 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.695916 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.696486 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-30T17:12:56.697017 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.697401 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.698005 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-30T17:12:56.698493 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.698892 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.699449 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-30T17:12:56.699947 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.700361 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.700892 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:56.701396 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.701822 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.702378 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:56.702882 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.703264 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.703863 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:56.704338 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.704946 #21825] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:56.705551 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:56.705801 #21825]  INFO -- : -------------------------------------------------------------------------------------------------------------
I, [2020-03-30T17:12:56.705834 #21825]  INFO -- : AssignmentTest: test_: Given context should have all the assignments listed alphabetically by employee name. 
I, [2020-03-30T17:12:56.705857 #21825]  INFO -- : -------------------------------------------------------------------------------------------------------------
D, [2020-03-30T17:12:56.706465 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.707544 #21825] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.708692 #21825] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0178951918"], ["active", 1]]
D, [2020-03-30T17:12:56.709654 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.710430 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.711262 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.712221 #21825] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-30T17:12:56.713172 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.713916 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.714742 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.715716 #21825] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0529281105"], ["active", 0]]
D, [2020-03-30T17:12:56.716654 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.717548 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.718621 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "229805647"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.719673 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "229805647"], ["date_of_birth", "2001-03-30"], ["phone", "4565326272"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:56.720633 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.721578 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.722593 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.723639 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-30"], ["phone", "7227732872"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:56.724633 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.725538 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.726563 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "136915139"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.727573 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "136915139"], ["date_of_birth", "2004-03-30"], ["phone", "4799083685"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:56.728526 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.729461 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.730471 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "078413028"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.731458 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "078413028"], ["date_of_birth", "1994-03-30"], ["phone", "2254205366"], ["role", "employee"], ["active", 0]]
D, [2020-03-30T17:12:56.732422 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.733343 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.734383 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.735369 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-30"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:56.736312 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.737262 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.738255 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.739226 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-30"], ["phone", "4557780040"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:56.740232 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.741140 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.742140 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "147275977"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.743138 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "147275977"], ["date_of_birth", "2001-03-30"], ["phone", "4426426514"], ["role", "admin"], ["active", 1]]
D, [2020-03-30T17:12:56.744127 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.745197 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.746261 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.747238 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.748078 #21825] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.749258 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.750207 #21825] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-30"], ["end_date", "2020-02-29"]]
D, [2020-03-30T17:12:56.750971 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.751895 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.752788 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.753714 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.754576 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.755729 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.756554 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-30"]]
D, [2020-03-30T17:12:56.757271 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.758233 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.759139 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.760113 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.760947 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.762109 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.762946 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-30"]]
D, [2020-03-30T17:12:56.763648 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.764695 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.765670 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.766613 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.767456 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.768608 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.769508 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-30"], ["end_date", "2019-09-30"]]
D, [2020-03-30T17:12:56.770281 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.771266 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.772179 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.773082 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.773931 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.775085 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.775975 #21825] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-30"]]
D, [2020-03-30T17:12:56.776674 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.777668 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.778561 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.779457 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.780301 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.781534 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.782450 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-30"]]
D, [2020-03-30T17:12:56.783172 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.784092 #21825] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT "assignments".* FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" ORDER BY last_name, first_name[0m
D, [2020-03-30T17:12:56.784944 #21825] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.785910 #21825] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.786837 #21825] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.787752 #21825] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.788658 #21825] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.789569 #21825] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.790288 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.790964 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:56.791497 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.791908 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.792509 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:56.793057 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.793498 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.794093 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:56.794634 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.795070 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.795660 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-30T17:12:56.796238 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.796679 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.797276 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-30T17:12:56.797868 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.798340 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.801320 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-30T17:12:56.801863 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.802262 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.802813 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:56.803319 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.803713 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.804253 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:56.804767 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.805156 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.805759 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:56.806250 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.806672 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.807199 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-30T17:12:56.807734 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.808111 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.808679 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-30T17:12:56.809182 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.809595 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.810192 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-30T17:12:56.810701 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.811080 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.811635 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-30T17:12:56.812142 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.812558 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.813103 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:56.813650 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.814055 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.814570 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:56.815073 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.815472 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.816014 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:56.816517 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.817092 #21825] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:56.817705 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:56.817965 #21825]  INFO -- : ----------------------------------------------------------
I, [2020-03-30T17:12:56.817998 #21825]  INFO -- : AssignmentTest: test_: Assignment should belong to store. 
I, [2020-03-30T17:12:56.818016 #21825]  INFO -- : ----------------------------------------------------------
D, [2020-03-30T17:12:56.818365 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:56.818862 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:56.819071 #21825]  INFO -- : -------------------------------------------------------------------------------------------
I, [2020-03-30T17:12:56.819102 #21825]  INFO -- : AssignmentTest: test_: Assignment should validate that :employee_id cannot be empty/falsy. 
I, [2020-03-30T17:12:56.819120 #21825]  INFO -- : -------------------------------------------------------------------------------------------
D, [2020-03-30T17:12:56.822713 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.823487 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.824106 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:56.824609 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:56.824842 #21825]  INFO -- : ------------------------------------------------------------------------------------------------------------------
I, [2020-03-30T17:12:56.824875 #21825]  INFO -- : AssignmentTest: test_: Given context should have a scope to find all current assignments for a store or employee. 
I, [2020-03-30T17:12:56.824894 #21825]  INFO -- : ------------------------------------------------------------------------------------------------------------------
D, [2020-03-30T17:12:56.825433 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.826489 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.827656 #21825] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9798430895"], ["active", 1]]
D, [2020-03-30T17:12:56.828637 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.829390 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.830307 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.831285 #21825] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-30T17:12:56.832279 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.833019 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.833882 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.834824 #21825] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4054494660"], ["active", 0]]
D, [2020-03-30T17:12:56.835803 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.836710 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.837787 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "124771848"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.838816 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "124771848"], ["date_of_birth", "2001-03-30"], ["phone", "2315232699"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:56.839803 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.840771 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.841793 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.842821 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-30"], ["phone", "9608747304"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:56.843761 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.844703 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.845750 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "331785532"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.846769 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "331785532"], ["date_of_birth", "2004-03-30"], ["phone", "4936336492"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:56.847726 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.848710 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.849756 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "234750539"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.850722 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "234750539"], ["date_of_birth", "1994-03-30"], ["phone", "6966718644"], ["role", "employee"], ["active", 0]]
D, [2020-03-30T17:12:56.851705 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.852686 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.853661 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.854647 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-30"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:56.855647 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.856618 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.857585 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.858583 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-30"], ["phone", "9458473231"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:56.859537 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.860463 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.861421 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "291745770"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.862440 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "291745770"], ["date_of_birth", "2001-03-30"], ["phone", "9102615896"], ["role", "admin"], ["active", 1]]
D, [2020-03-30T17:12:56.863406 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.864445 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.865453 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.866480 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.867322 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.868586 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.869495 #21825] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-30"], ["end_date", "2020-02-29"]]
D, [2020-03-30T17:12:56.870323 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.871281 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.872204 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.873147 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.874036 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.875221 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.876119 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-30"]]
D, [2020-03-30T17:12:56.876837 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.877834 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.878764 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.879671 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.880548 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.881735 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.882543 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-30"]]
D, [2020-03-30T17:12:56.883271 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.884342 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.885296 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.886267 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.887116 #21825] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.888305 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.889168 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-30"], ["end_date", "2019-09-30"]]
D, [2020-03-30T17:12:56.889999 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.890976 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.891894 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.892839 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.893746 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.894914 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.895745 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-30"]]
D, [2020-03-30T17:12:56.896454 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.897412 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.898333 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.899285 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.900136 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.901305 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.902224 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-30"]]
D, [2020-03-30T17:12:56.902944 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.903727 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (end_date IS NULL) AND (store_id = 1)[0m
D, [2020-03-30T17:12:56.904464 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (end_date IS NULL) AND (store_id = 2)[0m
D, [2020-03-30T17:12:56.905148 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (end_date IS NULL) AND (employee_id = 5)[0m
D, [2020-03-30T17:12:56.905881 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (end_date IS NULL) AND (employee_id = 1)[0m
D, [2020-03-30T17:12:56.906322 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.906887 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:56.907441 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.907839 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.908388 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:56.908914 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.909301 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.909857 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:56.910392 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.910782 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.911318 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-30T17:12:56.911865 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.912271 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.912833 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-30T17:12:56.913345 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.913770 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.914326 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-30T17:12:56.914849 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.915270 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.915816 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:56.916328 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.916709 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.917270 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:56.917825 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.918221 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.918800 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:56.919310 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.919743 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.920268 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-30T17:12:56.920803 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.921240 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.921831 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-30T17:12:56.922336 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.922762 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.923298 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-30T17:12:56.923835 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.924215 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.924801 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-30T17:12:56.925307 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.925753 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.926309 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:56.926825 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.927213 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.927772 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:56.928260 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.928670 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.929213 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:56.929742 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.930312 #21825] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:56.930928 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:56.931173 #21825]  INFO -- : ------------------------------------------------------------------------
I, [2020-03-30T17:12:56.931205 #21825]  INFO -- : AssignmentTest: test_: Given context should DO NOT REMOVE: AUTOGRADING. 
I, [2020-03-30T17:12:56.931224 #21825]  INFO -- : ------------------------------------------------------------------------
D, [2020-03-30T17:12:56.931797 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.932829 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.934010 #21825] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0231652789"], ["active", 1]]
D, [2020-03-30T17:12:56.934968 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.935735 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.936615 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.937660 #21825] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-30T17:12:56.938604 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.939369 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.940246 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.941263 #21825] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0850882880"], ["active", 0]]
D, [2020-03-30T17:12:56.942291 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.943229 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.944279 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "015501391"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.945374 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "015501391"], ["date_of_birth", "2001-03-30"], ["phone", "4614032425"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:56.946407 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.947382 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.948376 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.949417 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-30"], ["phone", "2032926166"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:56.950446 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.951387 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.952470 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "307799401"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.953494 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "307799401"], ["date_of_birth", "2004-03-30"], ["phone", "2592780009"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:56.954527 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.955481 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.956456 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "069231507"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.957436 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "069231507"], ["date_of_birth", "1994-03-30"], ["phone", "7888601967"], ["role", "employee"], ["active", 0]]
D, [2020-03-30T17:12:56.958446 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.959427 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.960424 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.961433 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-30"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:56.962456 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.963436 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.964425 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.965384 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-30"], ["phone", "9894359628"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:56.966394 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.967323 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.968290 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "062126236"], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.969283 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "062126236"], ["date_of_birth", "2001-03-30"], ["phone", "0481437021"], ["role", "admin"], ["active", 1]]
D, [2020-03-30T17:12:56.970297 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.971365 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.972428 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.973420 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.974324 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.975567 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.976474 #21825] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-30"], ["end_date", "2020-02-29"]]
D, [2020-03-30T17:12:56.977308 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.978274 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.979182 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.980099 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.980973 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.982186 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.983019 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-30"]]
D, [2020-03-30T17:12:56.983780 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.984768 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.985723 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.986670 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.987527 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.988692 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.989566 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-30"]]
D, [2020-03-30T17:12:56.990279 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.991358 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.992331 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.993276 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.994168 #21825] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.995364 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:56.996197 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-30"], ["end_date", "2019-09-30"]]
D, [2020-03-30T17:12:56.996958 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.997986 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:56.998934 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:56.999854 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.000715 #21825] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.001914 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.002763 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-30"]]
D, [2020-03-30T17:12:57.003480 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.004454 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.005363 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.006363 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.007188 #21825] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.008408 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.009239 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-30"]]
D, [2020-03-30T17:12:57.009968 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.010667 #21825] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" ORDER BY "assignments"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-30T17:12:57.011225 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.011845 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:57.012353 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.012791 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.013356 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:57.013888 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.014261 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.014823 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:57.015356 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.015780 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.016327 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-30T17:12:57.016853 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.017285 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.017826 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-30T17:12:57.018352 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.018757 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.019314 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-30T17:12:57.019858 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.020269 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.020849 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:57.021375 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.021784 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.022331 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:57.022846 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.023256 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.023821 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:57.024346 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.024763 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.025297 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-30T17:12:57.025839 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.026267 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.026809 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-30T17:12:57.027351 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.027769 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.028298 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-30T17:12:57.028813 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.029187 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.029753 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-30T17:12:57.030258 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.030702 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.031250 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:57.031753 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.032119 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.032682 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:57.033191 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.033705 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.034260 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:57.034811 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.035431 #21825] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:57.036043 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:57.036309 #21825]  INFO -- : ------------------------------------------------------------------------------------
I, [2020-03-30T17:12:57.036342 #21825]  INFO -- : AssignmentTest: test_: Given context should have a scope 'for_employee' that works. 
I, [2020-03-30T17:12:57.036362 #21825]  INFO -- : ------------------------------------------------------------------------------------
D, [2020-03-30T17:12:57.036923 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.038025 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.039193 #21825] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4388376322"], ["active", 1]]
D, [2020-03-30T17:12:57.040241 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.041058 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.041999 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.043046 #21825] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-30T17:12:57.044083 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.044888 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.045834 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.046817 #21825] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4947591151"], ["active", 0]]
D, [2020-03-30T17:12:57.047823 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.048772 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.049918 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "057624744"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.050976 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "057624744"], ["date_of_birth", "2001-03-30"], ["phone", "9765280042"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:57.052031 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.053012 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.054062 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.055110 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-30"], ["phone", "4685878892"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:57.056117 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.057097 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.058130 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "333079338"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.059139 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "333079338"], ["date_of_birth", "2004-03-30"], ["phone", "0910738381"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:57.060177 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.061167 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.062242 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "096936931"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.063266 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "096936931"], ["date_of_birth", "1994-03-30"], ["phone", "5301902066"], ["role", "employee"], ["active", 0]]
D, [2020-03-30T17:12:57.064284 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.065287 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.066276 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.067307 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-30"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:57.068341 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.069315 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.070327 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.071351 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-30"], ["phone", "3040997605"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:57.072335 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.073278 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.074284 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "231504055"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.075336 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "231504055"], ["date_of_birth", "2001-03-30"], ["phone", "3270562946"], ["role", "admin"], ["active", 1]]
D, [2020-03-30T17:12:57.076310 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.077382 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.078407 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.079364 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.080273 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.081532 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.082463 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-30"], ["end_date", "2020-02-29"]]
D, [2020-03-30T17:12:57.083244 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.084172 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.085096 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.086065 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.086945 #21825] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.088145 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.089023 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-30"]]
D, [2020-03-30T17:12:57.089753 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.090732 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.091668 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.092613 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.093486 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.094708 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.095590 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-30"]]
D, [2020-03-30T17:12:57.096317 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.097407 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.098455 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.099427 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.100283 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.101535 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.102463 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-30"], ["end_date", "2019-09-30"]]
D, [2020-03-30T17:12:57.103288 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.104296 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.105197 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.106182 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.107041 #21825] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.108230 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.109118 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-30"]]
D, [2020-03-30T17:12:57.109845 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.110835 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.111756 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.112709 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.113576 #21825] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.114788 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.115647 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-30"]]
D, [2020-03-30T17:12:57.116428 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.117172 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (employee_id = 5)[0m
D, [2020-03-30T17:12:57.117885 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (employee_id = 6)[0m
D, [2020-03-30T17:12:57.118302 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.118886 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:57.119420 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.119827 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.120382 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:57.120913 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.121323 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.121893 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:57.122380 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.122799 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.123318 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-30T17:12:57.123884 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.124264 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.124826 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-30T17:12:57.125345 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.125792 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.126352 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-30T17:12:57.126871 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.127271 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.127794 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:57.128352 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.128777 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.129309 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:57.129843 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.130261 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.130810 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:57.131300 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.131683 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.132213 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-30T17:12:57.132732 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.133135 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.133706 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-30T17:12:57.134268 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.134674 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.135200 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-30T17:12:57.135729 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.136137 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.136692 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-30T17:12:57.137209 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.137610 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.138174 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:57.138742 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.139139 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.139672 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:57.140171 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.140602 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.141144 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:57.141705 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.142312 #21825] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:57.142900 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:57.143153 #21825]  INFO -- : ----------------------------------------------------------------------------------------------------------
I, [2020-03-30T17:12:57.143186 #21825]  INFO -- : AssignmentTest: test_: Given context should identify a non-active store as part of an invalid assignment. 
I, [2020-03-30T17:12:57.143206 #21825]  INFO -- : ----------------------------------------------------------------------------------------------------------
D, [2020-03-30T17:12:57.143796 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.144846 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.146020 #21825] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3549761400"], ["active", 1]]
D, [2020-03-30T17:12:57.147084 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.147891 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.148782 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.149817 #21825] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-30T17:12:57.150818 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.151604 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.152486 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.153435 #21825] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0808230642"], ["active", 0]]
D, [2020-03-30T17:12:57.154459 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.155387 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.156465 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "193342039"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.157517 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "193342039"], ["date_of_birth", "2001-03-30"], ["phone", "5308984218"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:57.158570 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.159577 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.160673 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.161744 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-30"], ["phone", "4477971597"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:57.162761 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.163723 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.164739 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "117604786"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.165820 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "117604786"], ["date_of_birth", "2004-03-30"], ["phone", "1314252679"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:57.166834 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.167817 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.168843 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "189003013"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.169910 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "189003013"], ["date_of_birth", "1994-03-30"], ["phone", "4998410367"], ["role", "employee"], ["active", 0]]
D, [2020-03-30T17:12:57.170983 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.172046 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.173094 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.174185 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-30"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:57.175373 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.176493 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.179733 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.180823 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-30"], ["phone", "2470569701"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:57.181873 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.182839 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.183865 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "175087921"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.184892 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "175087921"], ["date_of_birth", "2001-03-30"], ["phone", "1603398358"], ["role", "admin"], ["active", 1]]
D, [2020-03-30T17:12:57.185931 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.186989 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.188018 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.188979 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.189926 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.191153 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.192086 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-30"], ["end_date", "2020-02-29"]]
D, [2020-03-30T17:12:57.192888 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.193888 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.194839 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.195805 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.196643 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.197822 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.198665 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-30"]]
D, [2020-03-30T17:12:57.199335 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.200286 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.201202 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.202144 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.203005 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.204178 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.205018 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-30"]]
D, [2020-03-30T17:12:57.205769 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.206833 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.207758 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.208740 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.209579 #21825] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.210767 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.211626 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-30"], ["end_date", "2019-09-30"]]
D, [2020-03-30T17:12:57.212369 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.213328 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.214236 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.215160 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.215974 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.217135 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.218011 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-30"]]
D, [2020-03-30T17:12:57.218751 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.219731 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.220635 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.221526 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.222416 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.223583 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.224381 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-30"]]
D, [2020-03-30T17:12:57.225093 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.226556 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.227448 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.228075 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.228678 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:57.229177 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.229594 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.230148 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:57.230656 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.231028 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.231584 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:57.232088 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.232508 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.233067 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-30T17:12:57.233577 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.233989 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.234548 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-30T17:12:57.235036 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.235424 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.235947 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-30T17:12:57.236476 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.236878 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.237425 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:57.238003 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.238401 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.238940 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:57.239442 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.239859 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.240381 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:57.240884 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.241301 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.241870 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-30T17:12:57.242390 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.242773 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.243331 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-30T17:12:57.243844 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.244253 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.244789 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-30T17:12:57.245302 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.245726 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.246262 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-30T17:12:57.246787 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.247196 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.247765 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:57.248266 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.248696 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.249204 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:57.249760 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.250155 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.250726 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:57.251228 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.251862 #21825] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:57.252455 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:57.252699 #21825]  INFO -- : ----------------------------------------------------------------------------------------
I, [2020-03-30T17:12:57.252731 #21825]  INFO -- : AssignmentTest: test_: Assignment should validate that :store_id cannot be empty/falsy. 
I, [2020-03-30T17:12:57.252759 #21825]  INFO -- : ----------------------------------------------------------------------------------------
D, [2020-03-30T17:12:57.256551 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.257324 #21825] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.258009 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:57.258559 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:57.258787 #21825]  INFO -- : -------------------------------------------------------------------------------------------------------------
I, [2020-03-30T17:12:57.258818 #21825]  INFO -- : AssignmentTest: test_: Given context should not allow for a end date in the future or before the start date. 
I, [2020-03-30T17:12:57.258838 #21825]  INFO -- : -------------------------------------------------------------------------------------------------------------
D, [2020-03-30T17:12:57.259402 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.260390 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.261574 #21825] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6590960667"], ["active", 1]]
D, [2020-03-30T17:12:57.262627 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.263436 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.264281 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.265278 #21825] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-30T17:12:57.266272 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.267048 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.267887 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.268848 #21825] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0189042320"], ["active", 0]]
D, [2020-03-30T17:12:57.269860 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.270788 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.271829 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "097408018"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.272885 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "097408018"], ["date_of_birth", "2001-03-30"], ["phone", "5721985749"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:57.273948 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.274966 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.275980 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.276979 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-30"], ["phone", "7332025028"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:57.277976 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.278904 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.279887 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "258970570"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.280872 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "258970570"], ["date_of_birth", "2004-03-30"], ["phone", "7125654693"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:57.281902 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.282880 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.283872 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "145551662"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.284922 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "145551662"], ["date_of_birth", "1994-03-30"], ["phone", "0892383594"], ["role", "employee"], ["active", 0]]
D, [2020-03-30T17:12:57.285978 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.286957 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.287941 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.288919 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-30"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:57.289984 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.290971 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.291980 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.293015 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-30"], ["phone", "2820058346"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:57.294033 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.294973 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.296015 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "277258668"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.297053 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "277258668"], ["date_of_birth", "2001-03-30"], ["phone", "9100765432"], ["role", "admin"], ["active", 1]]
D, [2020-03-30T17:12:57.298147 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.299198 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.300269 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.301251 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.302159 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.303392 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.304309 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-30"], ["end_date", "2020-02-29"]]
D, [2020-03-30T17:12:57.305108 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.306073 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.306975 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.307906 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.308735 #21825] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.309919 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.310730 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-30"]]
D, [2020-03-30T17:12:57.311442 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.312415 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.313315 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.314255 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.315076 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.316264 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.317106 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-30"]]
D, [2020-03-30T17:12:57.317848 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.318907 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.319836 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.320788 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.321659 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.322869 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.323716 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-30"], ["end_date", "2019-09-30"]]
D, [2020-03-30T17:12:57.324519 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.325482 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.326446 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.327395 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.328279 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.329454 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.330334 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-30"]]
D, [2020-03-30T17:12:57.331073 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.332043 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.332994 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.333919 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.334816 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.336019 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.336832 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-30"]]
D, [2020-03-30T17:12:57.337545 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.339647 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.340586 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.342775 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.343647 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.344280 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.344910 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:57.345443 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.345893 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.346460 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:57.346966 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.347337 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.347899 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:57.348383 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.348786 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.349347 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-30T17:12:57.349895 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.350278 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.350838 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-30T17:12:57.351343 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.351744 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.352319 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-30T17:12:57.352810 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.353203 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.353759 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:57.354278 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.354691 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.355246 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:57.355767 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.356168 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.356695 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:57.357204 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.357661 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.358191 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-30T17:12:57.358721 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.359111 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.359662 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-30T17:12:57.360158 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.360544 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.361101 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-30T17:12:57.361664 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.362081 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.362630 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-30T17:12:57.363127 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.363507 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.364048 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:57.364567 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.364957 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.365507 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:57.366034 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.366430 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.366937 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:57.367475 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.368069 #21825] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:57.368708 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:57.368939 #21825]  INFO -- : -------------------------------------------------------------------------------------
I, [2020-03-30T17:12:57.368971 #21825]  INFO -- : AssignmentTest: test_: Assignment should allow :start_date to be â€¹Mon, 10 Feb 2020â€º. 
I, [2020-03-30T17:12:57.368991 #21825]  INFO -- : -------------------------------------------------------------------------------------
D, [2020-03-30T17:12:57.371614 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.372417 #21825] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.373024 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:57.373550 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:57.373809 #21825]  INFO -- : ---------------------------------------------------------------------------------
I, [2020-03-30T17:12:57.373843 #21825]  INFO -- : AssignmentTest: test_: Given context should have a scope 'for_store' that works. 
I, [2020-03-30T17:12:57.373862 #21825]  INFO -- : ---------------------------------------------------------------------------------
D, [2020-03-30T17:12:57.374432 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.375445 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.376597 #21825] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4485806541"], ["active", 1]]
D, [2020-03-30T17:12:57.377608 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.378391 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.379271 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.380245 #21825] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-30T17:12:57.381194 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.382033 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.382874 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.383851 #21825] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1751730634"], ["active", 0]]
D, [2020-03-30T17:12:57.384826 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.385785 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.386804 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "272904783"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.387871 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "272904783"], ["date_of_birth", "2001-03-30"], ["phone", "1880079156"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:57.388864 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.389829 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.390817 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.391790 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-30"], ["phone", "8707360447"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:57.392805 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.393737 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.394721 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "129319056"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.395732 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "129319056"], ["date_of_birth", "2004-03-30"], ["phone", "1469780170"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:57.396736 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.397708 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.398728 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "253788935"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.399726 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "253788935"], ["date_of_birth", "1994-03-30"], ["phone", "6157744375"], ["role", "employee"], ["active", 0]]
D, [2020-03-30T17:12:57.400759 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.401758 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.402743 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.403752 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-30"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:57.404827 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.405831 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.406815 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.407824 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-30"], ["phone", "3983859439"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:57.408835 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.409793 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.410847 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "133867304"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.411890 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "133867304"], ["date_of_birth", "2001-03-30"], ["phone", "5510407023"], ["role", "admin"], ["active", 1]]
D, [2020-03-30T17:12:57.412904 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.413958 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.415010 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.415950 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.416801 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.418065 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.419062 #21825] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-30"], ["end_date", "2020-02-29"]]
D, [2020-03-30T17:12:57.419871 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.420789 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.421740 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.422700 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.423555 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.424740 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.425551 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-30"]]
D, [2020-03-30T17:12:57.426310 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.427285 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.428176 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.429102 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.429964 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.431163 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.432032 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-30"]]
D, [2020-03-30T17:12:57.432763 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.433867 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.434833 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.435774 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.436659 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.437859 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.438726 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-30"], ["end_date", "2019-09-30"]]
D, [2020-03-30T17:12:57.439486 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.440455 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.441341 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.442324 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.443188 #21825] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.444333 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.445222 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-30"]]
D, [2020-03-30T17:12:57.445995 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.446986 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.447893 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.448806 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.449693 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.450870 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.451759 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-30"]]
D, [2020-03-30T17:12:57.452498 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.453215 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (store_id = 1)[0m
D, [2020-03-30T17:12:57.453901 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments" WHERE (store_id = 2)[0m
D, [2020-03-30T17:12:57.454308 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.454910 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:57.455441 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.455848 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.456433 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:57.456943 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.457340 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.457930 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:57.458462 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.458848 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.459389 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-30T17:12:57.459923 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.460330 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.460887 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-30T17:12:57.461432 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.461873 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.462427 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-30T17:12:57.462959 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.463365 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.463896 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:57.464457 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.464873 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.465426 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:57.465939 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.466342 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.466905 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:57.467457 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.467831 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.468383 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-30T17:12:57.468922 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.469324 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.469874 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-30T17:12:57.470388 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.470793 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.471342 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-30T17:12:57.471854 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.472264 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.472795 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-30T17:12:57.473313 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.473766 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.474311 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:57.474854 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.475258 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.475821 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:57.476330 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.476749 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.477289 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:57.477832 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.478403 #21825] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:57.479027 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:57.479313 #21825]  INFO -- : ------------------------------------------------------------------------------------------------------------------
I, [2020-03-30T17:12:57.479347 #21825]  INFO -- : AssignmentTest: test_: Given context should allow for a end date in the past (or today) but after the start date. 
I, [2020-03-30T17:12:57.479367 #21825]  INFO -- : ------------------------------------------------------------------------------------------------------------------
D, [2020-03-30T17:12:57.479951 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.481032 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.482233 #21825] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5527561190"], ["active", 1]]
D, [2020-03-30T17:12:57.483388 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.484200 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.485078 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.486081 #21825] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-30T17:12:57.487130 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.487893 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.488798 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.489786 #21825] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3004772899"], ["active", 0]]
D, [2020-03-30T17:12:57.490795 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.491703 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.492749 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "307421496"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.493870 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "307421496"], ["date_of_birth", "2001-03-30"], ["phone", "5338138257"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:57.494918 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.495904 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.497013 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.498361 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-30"], ["phone", "8124210833"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:57.499443 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.500426 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.501494 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "293200508"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.502522 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "293200508"], ["date_of_birth", "2004-03-30"], ["phone", "5862115466"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:57.503605 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.504591 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.505657 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "379913144"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.506675 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "379913144"], ["date_of_birth", "1994-03-30"], ["phone", "7190932751"], ["role", "employee"], ["active", 0]]
D, [2020-03-30T17:12:57.507724 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.508764 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.509785 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.510831 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-30"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:57.511880 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.512885 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.513930 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.514971 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-30"], ["phone", "9650448297"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:57.516003 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.516966 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.517960 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "070850001"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.518985 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "070850001"], ["date_of_birth", "2001-03-30"], ["phone", "5736865504"], ["role", "admin"], ["active", 1]]
D, [2020-03-30T17:12:57.520040 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.521093 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.522151 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.523123 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.523984 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.525260 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.526237 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-30"], ["end_date", "2020-02-29"]]
D, [2020-03-30T17:12:57.527046 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.528027 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.528987 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.529985 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.530860 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.532066 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.532894 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-30"]]
D, [2020-03-30T17:12:57.533665 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.534663 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.535603 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.536601 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.537466 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.538739 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.539610 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-30"]]
D, [2020-03-30T17:12:57.540362 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.541438 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.542398 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.543355 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.544270 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.545452 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.546355 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-30"], ["end_date", "2019-09-30"]]
D, [2020-03-30T17:12:57.547183 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.548167 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.549075 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.550081 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.550940 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.552138 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.553044 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-30"]]
D, [2020-03-30T17:12:57.553845 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.554862 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.555809 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.556794 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.557748 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.559060 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.562345 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-30"]]
D, [2020-03-30T17:12:57.563078 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.564720 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.565673 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.567262 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.568140 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.568777 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.569357 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:57.569935 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.570338 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.570910 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:57.571432 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.571831 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.572392 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:57.572908 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.573282 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.573890 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-30T17:12:57.574407 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.574813 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.575378 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-30T17:12:57.575893 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.576303 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.576861 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-30T17:12:57.577465 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.577870 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.578441 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:57.578936 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.579341 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.579899 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:57.580393 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.580810 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.581342 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:57.581887 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.582271 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.582825 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-30T17:12:57.583332 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.583747 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.584284 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-30T17:12:57.584800 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.585194 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.585728 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-30T17:12:57.586269 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.586658 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.587191 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-30T17:12:57.587713 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.588121 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.588659 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:57.589182 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.589567 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.590156 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:57.590720 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.591134 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.591696 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:57.592201 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.592820 #21825] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:57.593407 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:57.593695 #21825]  INFO -- : ----------------------------------------------------------------------------------------------------------
I, [2020-03-30T17:12:57.593730 #21825]  INFO -- : AssignmentTest: test_: Given context should have all the assignments listed alphabetically by store name. 
I, [2020-03-30T17:12:57.593751 #21825]  INFO -- : ----------------------------------------------------------------------------------------------------------
D, [2020-03-30T17:12:57.594354 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.595387 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.596541 #21825] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9334120506"], ["active", 1]]
D, [2020-03-30T17:12:57.597538 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.598345 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.599229 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.600215 #21825] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-30T17:12:57.601184 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.601985 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.602852 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.603827 #21825] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7734469472"], ["active", 0]]
D, [2020-03-30T17:12:57.604789 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.605713 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.606780 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "000094258"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.607794 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "000094258"], ["date_of_birth", "2001-03-30"], ["phone", "3173400135"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:57.608821 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.609798 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.610807 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.611822 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-30"], ["phone", "9240529036"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:57.612833 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.613828 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.614819 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "083986217"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.615832 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "083986217"], ["date_of_birth", "2004-03-30"], ["phone", "7278851060"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:57.616830 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.617795 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.618799 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "083076479"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.619763 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "083076479"], ["date_of_birth", "1994-03-30"], ["phone", "3889543831"], ["role", "employee"], ["active", 0]]
D, [2020-03-30T17:12:57.620785 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.621780 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.622780 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.623754 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-30"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:57.624780 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.625772 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.626775 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.627819 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-30"], ["phone", "1107471861"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:57.628861 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.629813 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.630784 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "124262972"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.631775 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "124262972"], ["date_of_birth", "2001-03-30"], ["phone", "2573475721"], ["role", "admin"], ["active", 1]]
D, [2020-03-30T17:12:57.632773 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.633838 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.634857 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.635839 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.636673 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.637901 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.638844 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-30"], ["end_date", "2020-02-29"]]
D, [2020-03-30T17:12:57.639631 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.640569 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.641441 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.642377 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.643260 #21825] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.644458 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.645261 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-30"]]
D, [2020-03-30T17:12:57.645969 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.646933 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.647827 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.648766 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.649587 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.650776 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.651657 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-30"]]
D, [2020-03-30T17:12:57.652361 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.653437 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.654429 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.655317 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.656185 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.657365 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.658215 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-30"], ["end_date", "2019-09-30"]]
D, [2020-03-30T17:12:57.658990 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.659931 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.660811 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.661830 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.662672 #21825] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.663829 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.664658 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-30"]]
D, [2020-03-30T17:12:57.665399 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.666426 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.667345 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.668250 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.669087 #21825] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.670295 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.671136 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-30"]]
D, [2020-03-30T17:12:57.671886 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.672775 #21825] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT "assignments".* FROM "assignments" INNER JOIN "stores" ON "stores"."id" = "assignments"."store_id" ORDER BY name[0m
D, [2020-03-30T17:12:57.674028 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.674925 #21825] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.675787 #21825] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.676693 #21825] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.677591 #21825] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.678469 #21825] DEBUG -- :   [1m[36mStore Load (0.0ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.679103 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.679752 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:57.680295 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.680692 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.681259 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:57.681800 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.682200 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.682754 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:57.683267 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.683658 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.684196 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-30T17:12:57.684723 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.685132 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.685690 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-30T17:12:57.686195 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.686590 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.687143 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-30T17:12:57.687665 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.688062 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.688621 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:57.689132 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.689536 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.690067 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:57.690570 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.690967 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.691516 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:57.692023 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.692405 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.692958 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-30T17:12:57.693489 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.693885 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.694446 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-30T17:12:57.694945 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.695343 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.695899 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-30T17:12:57.696404 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.696785 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.697316 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-30T17:12:57.697990 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.698408 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.698954 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:57.699487 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.699892 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.700410 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:57.700947 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.701342 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.701937 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:57.702453 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.703042 #21825] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:57.703630 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:57.703887 #21825]  INFO -- : ----------------------------------------------------------------------------------
I, [2020-03-30T17:12:57.703919 #21825]  INFO -- : AssignmentTest: test_: Given context should not terminate a completed assignment. 
I, [2020-03-30T17:12:57.703939 #21825]  INFO -- : ----------------------------------------------------------------------------------
D, [2020-03-30T17:12:57.704536 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.705587 #21825] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.706745 #21825] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9351013698"], ["active", 1]]
D, [2020-03-30T17:12:57.707739 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.708502 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.709397 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.710377 #21825] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-30T17:12:57.711368 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.712108 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.712964 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.713966 #21825] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6505362991"], ["active", 0]]
D, [2020-03-30T17:12:57.714941 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.715864 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.716921 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "194437511"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.717979 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "194437511"], ["date_of_birth", "2001-03-30"], ["phone", "7118210874"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:57.718979 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.719917 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.720960 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.721969 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-30"], ["phone", "8179906082"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:57.722988 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.723918 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.724900 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "160612466"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.725940 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "160612466"], ["date_of_birth", "2004-03-30"], ["phone", "5195184573"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:57.726947 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.727909 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.728913 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "208050863"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.729913 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "208050863"], ["date_of_birth", "1994-03-30"], ["phone", "2064587227"], ["role", "employee"], ["active", 0]]
D, [2020-03-30T17:12:57.730954 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.731936 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.732944 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.733997 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-30"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:57.735023 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.736047 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.737108 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.738174 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-30"], ["phone", "0881076396"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:57.739196 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.740133 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.741107 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "123228835"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.742148 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "123228835"], ["date_of_birth", "2001-03-30"], ["phone", "7597694028"], ["role", "admin"], ["active", 1]]
D, [2020-03-30T17:12:57.743180 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.744195 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.745237 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.746214 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.747110 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.748363 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.749256 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-30"], ["end_date", "2020-02-29"]]
D, [2020-03-30T17:12:57.750041 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.751005 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.751927 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.752874 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.753746 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.754881 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.755731 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-30"]]
D, [2020-03-30T17:12:57.756473 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.757377 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.758303 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.759210 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.760073 #21825] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.761251 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.762077 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-30"]]
D, [2020-03-30T17:12:57.762799 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.763885 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.764847 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.765869 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.766739 #21825] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.767910 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.768771 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-30"], ["end_date", "2019-09-30"]]
D, [2020-03-30T17:12:57.769596 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.770618 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.771504 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.772444 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.773254 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.774555 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.775415 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-30"]]
D, [2020-03-30T17:12:57.776126 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.777103 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.778021 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.778960 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.779899 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.781098 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.781952 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-30"]]
D, [2020-03-30T17:12:57.782666 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.783357 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.783976 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:57.784551 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.784973 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.785530 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:57.786067 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.786505 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.787070 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:57.787597 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.787988 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.788579 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-30T17:12:57.789103 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.789517 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.790107 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-30T17:12:57.790672 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.791082 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.791655 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-30T17:12:57.792187 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.792580 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.793131 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:57.793693 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.794110 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.794694 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:57.795235 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.795698 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.796215 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:57.796758 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.797155 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.797753 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-30T17:12:57.798247 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.798694 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.799234 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-30T17:12:57.799788 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.800172 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.800747 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-30T17:12:57.801272 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.801740 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.802293 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-30T17:12:57.802836 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.803242 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.803833 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:57.804367 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.804775 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.805307 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:57.805840 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.806251 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.806780 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:57.807275 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.807899 #21825] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:57.809003 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:57.809278 #21825]  INFO -- : ------------------------------------------------------------
I, [2020-03-30T17:12:57.809310 #21825]  INFO -- : StoreTest: test_: Store should not allow :state to be â€¹10â€º. 
I, [2020-03-30T17:12:57.809329 #21825]  INFO -- : ------------------------------------------------------------
D, [2020-03-30T17:12:57.812848 #21825] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-30T17:12:57.813461 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:57.814093 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:57.814324 #21825]  INFO -- : -----------------------------------------------------------------------------
I, [2020-03-30T17:12:57.814355 #21825]  INFO -- : StoreTest: test_: Given context should have all active stores accounted for. 
I, [2020-03-30T17:12:57.814375 #21825]  INFO -- : -----------------------------------------------------------------------------
D, [2020-03-30T17:12:57.814952 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.815912 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.817096 #21825] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8664664056"], ["active", 1]]
D, [2020-03-30T17:12:57.818191 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.819020 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.819920 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.820929 #21825] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-30T17:12:57.821971 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.822797 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.823669 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.824667 #21825] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2939050778"], ["active", 0]]
D, [2020-03-30T17:12:57.825679 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.826517 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.827244 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.828104 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.828750 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.829348 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:57.829934 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.830314 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.830880 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:57.831406 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.831843 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.832383 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:57.832937 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.833501 #21825] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:57.834132 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:57.834363 #21825]  INFO -- : --------------------------------------------------------------------
I, [2020-03-30T17:12:57.834398 #21825]  INFO -- : StoreTest: test_: Store should allow :phone to be â€¹"412.268.3259"â€º. 
I, [2020-03-30T17:12:57.834427 #21825]  INFO -- : --------------------------------------------------------------------
D, [2020-03-30T17:12:57.837072 #21825] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-30T17:12:57.837702 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:57.838250 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:57.838514 #21825]  INFO -- : ------------------------------------------------------------------------
I, [2020-03-30T17:12:57.838548 #21825]  INFO -- : StoreTest: test_: Store should have many employees through assignments. 
I, [2020-03-30T17:12:57.838568 #21825]  INFO -- : ------------------------------------------------------------------------
D, [2020-03-30T17:12:57.840085 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:57.840613 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:57.840858 #21825]  INFO -- : ------------------------------------------------------------------------
I, [2020-03-30T17:12:57.840891 #21825]  INFO -- : StoreTest: test_: Store should not allow :phone to be â€¹"412/268/3259"â€º. 
I, [2020-03-30T17:12:57.840911 #21825]  INFO -- : ------------------------------------------------------------------------
D, [2020-03-30T17:12:57.843852 #21825] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-30T17:12:57.844475 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:57.845067 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:57.845295 #21825]  INFO -- : -------------------------------------------------------------------
I, [2020-03-30T17:12:57.845332 #21825]  INFO -- : StoreTest: test_: Given context should DO NOT REMOVE: AUTOGRADING. 
I, [2020-03-30T17:12:57.845351 #21825]  INFO -- : -------------------------------------------------------------------
D, [2020-03-30T17:12:57.845954 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.847019 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.848261 #21825] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9919993060"], ["active", 1]]
D, [2020-03-30T17:12:57.849299 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.850248 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.851227 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.852395 #21825] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-30T17:12:57.853645 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.854614 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.855552 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.856569 #21825] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7684458392"], ["active", 0]]
D, [2020-03-30T17:12:57.857751 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.858222 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.858864 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:57.859475 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.859889 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.860552 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:57.861091 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.861531 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.862106 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:57.862667 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.863319 #21825] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:57.863947 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:57.864206 #21825]  INFO -- : ------------------------------------------------------
I, [2020-03-30T17:12:57.864243 #21825]  INFO -- : StoreTest: test_: Store should have many assignments. 
I, [2020-03-30T17:12:57.864263 #21825]  INFO -- : ------------------------------------------------------
D, [2020-03-30T17:12:57.864684 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:57.865216 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:57.865485 #21825]  INFO -- : --------------------------------------------------------------
I, [2020-03-30T17:12:57.865519 #21825]  INFO -- : StoreTest: test_: Store should not allow :zip to be â€¹"1512"â€º. 
I, [2020-03-30T17:12:57.865538 #21825]  INFO -- : --------------------------------------------------------------
D, [2020-03-30T17:12:57.868589 #21825] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-30T17:12:57.869397 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:57.870064 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:57.870320 #21825]  INFO -- : --------------------------------------------------------------------
I, [2020-03-30T17:12:57.870352 #21825]  INFO -- : StoreTest: test_: Store should not allow :zip to be â€¹"15213-0983"â€º. 
I, [2020-03-30T17:12:57.870430 #21825]  INFO -- : --------------------------------------------------------------------
D, [2020-03-30T17:12:57.873778 #21825] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-30T17:12:57.874339 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:57.874899 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:57.875124 #21825]  INFO -- : ----------------------------------------------------------------------------
I, [2020-03-30T17:12:57.875155 #21825]  INFO -- : StoreTest: test_: Store should validate that :street cannot be empty/falsy. 
I, [2020-03-30T17:12:57.875174 #21825]  INFO -- : ----------------------------------------------------------------------------
D, [2020-03-30T17:12:57.878477 #21825] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-30T17:12:57.879029 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:57.879551 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:57.879800 #21825]  INFO -- : ------------------------------------------------------------------
I, [2020-03-30T17:12:57.879832 #21825]  INFO -- : StoreTest: test_: Store should allow :phone to be â€¹"4122683259"â€º. 
I, [2020-03-30T17:12:57.879852 #21825]  INFO -- : ------------------------------------------------------------------
D, [2020-03-30T17:12:57.882375 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-30T17:12:57.882923 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:57.883459 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:57.883687 #21825]  INFO -- : -------------------------------------------------------------------------------
I, [2020-03-30T17:12:57.883719 #21825]  INFO -- : StoreTest: test_: Given context should have all inactive stores accounted for. 
I, [2020-03-30T17:12:57.883738 #21825]  INFO -- : -------------------------------------------------------------------------------
D, [2020-03-30T17:12:57.884259 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.885175 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.886429 #21825] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9779987382"], ["active", 1]]
D, [2020-03-30T17:12:57.887548 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.888327 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.889185 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.890237 #21825] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-30T17:12:57.891305 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.892068 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.892909 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.893893 #21825] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4549054948"], ["active", 0]]
D, [2020-03-30T17:12:57.894980 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.895812 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores" WHERE "stores"."active" != ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.896607 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" != ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.897416 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" != ?[0m  [["active", 1]]
D, [2020-03-30T17:12:57.898024 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.898785 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:57.899430 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.899867 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.900466 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:57.900992 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.901398 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.902026 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:57.902528 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.903114 #21825] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:57.903715 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:57.903946 #21825]  INFO -- : ------------------------------------------------------------------------
I, [2020-03-30T17:12:57.903978 #21825]  INFO -- : StoreTest: test_: Store should not allow :phone to be â€¹"412-2683-259"â€º. 
I, [2020-03-30T17:12:57.903998 #21825]  INFO -- : ------------------------------------------------------------------------
D, [2020-03-30T17:12:57.906954 #21825] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-30T17:12:57.907570 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:57.908127 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:57.908351 #21825]  INFO -- : --------------------------------------------------------------------------
I, [2020-03-30T17:12:57.908382 #21825]  INFO -- : StoreTest: test_: Store should validate that :name cannot be empty/falsy. 
I, [2020-03-30T17:12:57.908411 #21825]  INFO -- : --------------------------------------------------------------------------
D, [2020-03-30T17:12:57.911571 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-30T17:12:57.912130 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:57.912687 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:57.912947 #21825]  INFO -- : --------------------------------------------------------------
I, [2020-03-30T17:12:57.912978 #21825]  INFO -- : StoreTest: test_: Store should not allow :state to be â€¹"CA"â€º. 
I, [2020-03-30T17:12:57.912997 #21825]  INFO -- : --------------------------------------------------------------
D, [2020-03-30T17:12:57.915657 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-30T17:12:57.916203 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:57.916753 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:57.917008 #21825]  INFO -- : -------------------------------------------------------------
I, [2020-03-30T17:12:57.917039 #21825]  INFO -- : StoreTest: test_: Store should not allow :zip to be â€¹"bad"â€º. 
I, [2020-03-30T17:12:57.917058 #21825]  INFO -- : -------------------------------------------------------------
D, [2020-03-30T17:12:57.919840 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-30T17:12:57.920438 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:57.920998 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:57.921223 #21825]  INFO -- : ----------------------------------------------------------------------
I, [2020-03-30T17:12:57.921257 #21825]  INFO -- : StoreTest: test_: Store should allow :phone to be â€¹"(412) 268-3259"â€º. 
I, [2020-03-30T17:12:57.921280 #21825]  INFO -- : ----------------------------------------------------------------------
D, [2020-03-30T17:12:57.923805 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-30T17:12:57.924368 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:57.924933 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:57.925159 #21825]  INFO -- : -----------------------------------------------------------
I, [2020-03-30T17:12:57.925196 #21825]  INFO -- : StoreTest: test_: Store should allow :zip to be â€¹"15213"â€º. 
I, [2020-03-30T17:12:57.925238 #21825]  INFO -- : -----------------------------------------------------------
D, [2020-03-30T17:12:57.927761 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-30T17:12:57.928312 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:57.928855 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:57.929094 #21825]  INFO -- : ------------------------------------------------------------------------
I, [2020-03-30T17:12:57.929127 #21825]  INFO -- : StoreTest: test_: Store should not allow :phone to be â€¹"800-EAT-FOOD"â€º. 
I, [2020-03-30T17:12:57.929146 #21825]  INFO -- : ------------------------------------------------------------------------
D, [2020-03-30T17:12:57.931819 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-30T17:12:57.932409 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:57.932952 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:57.933206 #21825]  INFO -- : -----------------------------------------------------------------------
I, [2020-03-30T17:12:57.933237 #21825]  INFO -- : StoreTest: test_: Store should not allow :phone to be â€¹"14122683259"â€º. 
I, [2020-03-30T17:12:57.933257 #21825]  INFO -- : -----------------------------------------------------------------------
D, [2020-03-30T17:12:57.935984 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-30T17:12:57.936551 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:57.937069 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:57.937313 #21825]  INFO -- : --------------------------------------------------------------------
I, [2020-03-30T17:12:57.937344 #21825]  INFO -- : StoreTest: test_: Given context should have a make_inactive method. 
I, [2020-03-30T17:12:57.937372 #21825]  INFO -- : --------------------------------------------------------------------
D, [2020-03-30T17:12:57.937948 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.938903 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.940089 #21825] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0608610208"], ["active", 1]]
D, [2020-03-30T17:12:57.941164 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.942037 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.942957 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.943960 #21825] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-30T17:12:57.945040 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.945890 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.946793 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.947825 #21825] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3011013170"], ["active", 0]]
D, [2020-03-30T17:12:57.948909 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.949360 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.950416 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) AND "stores"."id" != ? LIMIT ?[0m  [["name", "CMU"], ["id", 1], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.951604 #21825] DEBUG -- :   [1m[36mStore Update (0.1ms)[0m  [1m[33mUPDATE "stores" SET "active" = ? WHERE "stores"."id" = ?[0m  [["active", 0], ["id", 1]]
D, [2020-03-30T17:12:57.952311 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.953091 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.953885 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.954542 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:57.955134 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.955563 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.956162 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:57.956750 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.957159 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.957850 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:57.960881 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.961469 #21825] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:57.962130 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:57.962370 #21825]  INFO -- : ---------------------------------------------------------------------------------------------
I, [2020-03-30T17:12:57.962402 #21825]  INFO -- : StoreTest: test_: Given context should shows that Oakland's phone is stripped of non-digits. 
I, [2020-03-30T17:12:57.962434 #21825]  INFO -- : ---------------------------------------------------------------------------------------------
D, [2020-03-30T17:12:57.963000 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.964023 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.965209 #21825] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2140271179"], ["active", 1]]
D, [2020-03-30T17:12:57.966220 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.967046 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.967961 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.968928 #21825] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-30T17:12:57.970025 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.970775 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.971688 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.972641 #21825] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1895571352"], ["active", 0]]
D, [2020-03-30T17:12:57.973719 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.974138 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.974725 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:57.975266 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.975700 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.976250 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:57.976790 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.977223 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.977826 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:57.978369 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.978940 #21825] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:57.979546 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:57.979817 #21825]  INFO -- : --------------------------------------------------------------------
I, [2020-03-30T17:12:57.979847 #21825]  INFO -- : StoreTest: test_: Store should allow :phone to be â€¹"412-268-3259"â€º. 
I, [2020-03-30T17:12:57.979867 #21825]  INFO -- : --------------------------------------------------------------------
D, [2020-03-30T17:12:57.982515 #21825] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-30T17:12:57.983078 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:57.983631 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:57.983855 #21825]  INFO -- : ----------------------------------------------------------
I, [2020-03-30T17:12:57.983886 #21825]  INFO -- : StoreTest: test_: Store should allow :state to be â€¹"OH"â€º. 
I, [2020-03-30T17:12:57.983907 #21825]  INFO -- : ----------------------------------------------------------
D, [2020-03-30T17:12:57.986401 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-30T17:12:57.986988 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:57.987494 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:57.987747 #21825]  INFO -- : -------------------------------------------------------------------
I, [2020-03-30T17:12:57.987780 #21825]  INFO -- : StoreTest: test_: Given context should list stores alphabetically. 
I, [2020-03-30T17:12:57.987799 #21825]  INFO -- : -------------------------------------------------------------------
D, [2020-03-30T17:12:57.988340 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.989330 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.990562 #21825] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5913891593"], ["active", 1]]
D, [2020-03-30T17:12:57.991597 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.992414 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.993310 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.994342 #21825] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-30T17:12:57.995291 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.996087 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.996989 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-30T17:12:57.998015 #21825] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2226686641"], ["active", 0]]
D, [2020-03-30T17:12:57.998966 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:57.999671 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" ORDER BY name[0m
D, [2020-03-30T17:12:58.000277 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.000895 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:58.001421 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.001861 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.002399 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:58.002935 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.003319 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.003880 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:58.004396 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.004967 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.005552 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.005833 #21825]  INFO -- : --------------------------------------------------------------
I, [2020-03-30T17:12:58.005872 #21825]  INFO -- : StoreTest: test_: Store should not allow :state to be â€¹"NY"â€º. 
I, [2020-03-30T17:12:58.005900 #21825]  INFO -- : --------------------------------------------------------------
D, [2020-03-30T17:12:58.008731 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-30T17:12:58.009290 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.009857 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.010127 #21825]  INFO -- : ------------------------------------------------------------------
I, [2020-03-30T17:12:58.010158 #21825]  INFO -- : StoreTest: test_: Given context should have a make_active method. 
I, [2020-03-30T17:12:58.010177 #21825]  INFO -- : ------------------------------------------------------------------
D, [2020-03-30T17:12:58.010676 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.011665 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.012799 #21825] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0171107516"], ["active", 1]]
D, [2020-03-30T17:12:58.013827 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.014593 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.015512 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.016506 #21825] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-30T17:12:58.017490 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.018244 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.019142 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.020111 #21825] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7542854618"], ["active", 0]]
D, [2020-03-30T17:12:58.021100 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.021524 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.022476 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) AND "stores"."id" != ? LIMIT ?[0m  [["name", "Hazelwood"], ["id", 3], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.023548 #21825] DEBUG -- :   [1m[36mStore Update (0.1ms)[0m  [1m[33mUPDATE "stores" SET "active" = ? WHERE "stores"."id" = ?[0m  [["active", 1], ["id", 3]]
D, [2020-03-30T17:12:58.024177 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.024876 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.025660 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.026236 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:58.026776 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.027167 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.027720 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:58.028242 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.028662 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.029240 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:58.029779 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.030353 #21825] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.030939 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.031207 #21825]  INFO -- : ---------------------------------------------------------------
I, [2020-03-30T17:12:58.031239 #21825]  INFO -- : StoreTest: test_: Store should not allow :state to be â€¹"bad"â€º. 
I, [2020-03-30T17:12:58.031257 #21825]  INFO -- : ---------------------------------------------------------------
D, [2020-03-30T17:12:58.034074 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-30T17:12:58.034684 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.035223 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.035511 #21825]  INFO -- : -------------------------------------------------------------
I, [2020-03-30T17:12:58.035544 #21825]  INFO -- : StoreTest: test_: Store should not allow :state to be â€¹nilâ€º. 
I, [2020-03-30T17:12:58.035563 #21825]  INFO -- : -------------------------------------------------------------
D, [2020-03-30T17:12:58.038205 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-30T17:12:58.038753 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.039255 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.039492 #21825]  INFO -- : ----------------------------------------------------------
I, [2020-03-30T17:12:58.039525 #21825]  INFO -- : StoreTest: test_: Store should allow :state to be â€¹"PA"â€º. 
I, [2020-03-30T17:12:58.039544 #21825]  INFO -- : ----------------------------------------------------------
D, [2020-03-30T17:12:58.041953 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-30T17:12:58.042500 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.042974 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.043233 #21825]  INFO -- : ----------------------------------------------------------
I, [2020-03-30T17:12:58.043264 #21825]  INFO -- : StoreTest: test_: Store should allow :state to be â€¹"WV"â€º. 
I, [2020-03-30T17:12:58.043283 #21825]  INFO -- : ----------------------------------------------------------
D, [2020-03-30T17:12:58.045674 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-30T17:12:58.046219 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.046770 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.046989 #21825]  INFO -- : --------------------------------------------------------------------------
I, [2020-03-30T17:12:58.047021 #21825]  INFO -- : StoreTest: test_: Store should validate that :city cannot be empty/falsy. 
I, [2020-03-30T17:12:58.047040 #21825]  INFO -- : --------------------------------------------------------------------------
D, [2020-03-30T17:12:58.050230 #21825] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-30T17:12:58.050822 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.051358 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.051596 #21825]  INFO -- : ----------------------------------------------------------------
I, [2020-03-30T17:12:58.051628 #21825]  INFO -- : StoreTest: test_: Store should not allow :zip to be â€¹"152134"â€º. 
I, [2020-03-30T17:12:58.051648 #21825]  INFO -- : ----------------------------------------------------------------
D, [2020-03-30T17:12:58.054390 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-30T17:12:58.054980 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.055506 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.055730 #21825]  INFO -- : -------------------------------------------------------------------
I, [2020-03-30T17:12:58.055761 #21825]  INFO -- : StoreTest: test_: Store should not allow :phone to be â€¹"2683259"â€º. 
I, [2020-03-30T17:12:58.055780 #21825]  INFO -- : -------------------------------------------------------------------
D, [2020-03-30T17:12:58.058497 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-30T17:12:58.059062 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.059582 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.059805 #21825]  INFO -- : --------------------------------------------------------------------------
I, [2020-03-30T17:12:58.059837 #21825]  INFO -- : StoreTest: test_: Store should not allow :phone to be â€¹"4122683259x224"â€º. 
I, [2020-03-30T17:12:58.059856 #21825]  INFO -- : --------------------------------------------------------------------------
D, [2020-03-30T17:12:58.062485 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-30T17:12:58.063045 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.063540 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.063787 #21825]  INFO -- : ---------------------------------------------------------------------------------
I, [2020-03-30T17:12:58.063819 #21825]  INFO -- : StoreTest: test_: Store should validate that :name is case-insensitively unique. 
I, [2020-03-30T17:12:58.063839 #21825]  INFO -- : ---------------------------------------------------------------------------------
D, [2020-03-30T17:12:58.064443 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" ORDER BY "stores"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-30T17:12:58.065098 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.066003 #21825] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("phone") VALUES (?)[0m  [["phone", ""]]
D, [2020-03-30T17:12:58.066605 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.067123 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.067897 #21825] DEBUG -- :   [1m[36mStore Update (0.1ms)[0m  [1m[33mUPDATE "stores" SET "name" = ? WHERE "stores"."id" = ?[0m  [["name", "an arbitrary value"], ["id", 1]]
D, [2020-03-30T17:12:58.068509 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.071626 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "an arbitrary value"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.075114 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "AN ARBITRARY VALUE"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.076298 #21825] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.076918 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.077175 #21825]  INFO -- : -------------------------------------------------------------
I, [2020-03-30T17:12:58.077208 #21825]  INFO -- : StoreTest: test_: Store should not allow :phone to be â€¹nilâ€º. 
I, [2020-03-30T17:12:58.077227 #21825]  INFO -- : -------------------------------------------------------------
D, [2020-03-30T17:12:58.079944 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-30T17:12:58.080498 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.081559 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.081840 #21825]  INFO -- : -----------------------------------------------------------------------------
I, [2020-03-30T17:12:58.081876 #21825]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹"14122683259"â€º. 
I, [2020-03-30T17:12:58.081897 #21825]  INFO -- : -----------------------------------------------------------------------------
D, [2020-03-30T17:12:58.085634 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-30T17:12:58.086582 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.087119 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.087383 #21825]  INFO -- : ------------------------------------------------------------------
I, [2020-03-30T17:12:58.087416 #21825]  INFO -- : EmployeeTest: test_: Employee should not allow :role to be â€¹nilâ€º. 
I, [2020-03-30T17:12:58.087454 #21825]  INFO -- : ------------------------------------------------------------------
D, [2020-03-30T17:12:58.090696 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-30T17:12:58.091610 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.092122 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.092369 #21825]  INFO -- : --------------------------------------------------------------------------------------
I, [2020-03-30T17:12:58.092401 #21825]  INFO -- : EmployeeTest: test_: Employee should validate that :first_name cannot be empty/falsy. 
I, [2020-03-30T17:12:58.092420 #21825]  INFO -- : --------------------------------------------------------------------------------------
D, [2020-03-30T17:12:58.096170 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-30T17:12:58.097095 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.097710 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.097944 #21825]  INFO -- : -----------------------------------------------------------------------
I, [2020-03-30T17:12:58.097977 #21825]  INFO -- : EmployeeTest: test_: Employee should not allow :role to be â€¹"hacker"â€º. 
I, [2020-03-30T17:12:58.097997 #21825]  INFO -- : -----------------------------------------------------------------------
D, [2020-03-30T17:12:58.100968 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-30T17:12:58.101924 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.102475 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.102731 #21825]  INFO -- : ------------------------------------------------------------------------------------------------------------
I, [2020-03-30T17:12:58.102764 #21825]  INFO -- : EmployeeTest: test_: Employee should not allow :date_of_birth to be â€¹Fri, 30 Mar 2007 13:12:55 EDT -04:00â€º. 
I, [2020-03-30T17:12:58.102784 #21825]  INFO -- : ------------------------------------------------------------------------------------------------------------
D, [2020-03-30T17:12:58.106364 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-30T17:12:58.107300 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.107837 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.108102 #21825]  INFO -- : -------------------------------------------------------------------------------------------
I, [2020-03-30T17:12:58.108136 #21825]  INFO -- : EmployeeTest: test_: Given context should shows that age method returns the correct value. 
I, [2020-03-30T17:12:58.108155 #21825]  INFO -- : -------------------------------------------------------------------------------------------
D, [2020-03-30T17:12:58.108895 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.110021 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "384417912"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.111287 #21825] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "384417912"], ["date_of_birth", "2001-03-30"], ["phone", "3799104301"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:58.112328 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.113366 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.114462 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.115499 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-30"], ["phone", "0618275700"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:58.116602 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.117595 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.118735 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "000676243"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.119803 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "000676243"], ["date_of_birth", "2004-03-30"], ["phone", "6624115926"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:58.120871 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.121921 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.122972 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "003834491"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.123995 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "003834491"], ["date_of_birth", "1994-03-30"], ["phone", "8340545419"], ["role", "employee"], ["active", 0]]
D, [2020-03-30T17:12:58.125004 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.125983 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.127012 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.128072 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-30"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:58.129064 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.130072 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.131092 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.132144 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-30"], ["phone", "3210761760"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:58.133107 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.134087 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.135164 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "113396831"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.136177 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "113396831"], ["date_of_birth", "2001-03-30"], ["phone", "9233752515"], ["role", "admin"], ["active", 1]]
D, [2020-03-30T17:12:58.137205 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.137735 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.138326 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:58.138894 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.139312 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.139883 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:58.140392 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.140806 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.141325 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:58.141850 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.142271 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.142853 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-30T17:12:58.143395 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.143830 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.144353 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-30T17:12:58.144896 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.145276 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.145898 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-30T17:12:58.146407 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.146832 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.147400 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-30T17:12:58.147945 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.148540 #21825] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.149169 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.149405 #21825]  INFO -- : --------------------------------------------------------------------------
I, [2020-03-30T17:12:58.149446 #21825]  INFO -- : EmployeeTest: test_: Employee should allow :phone to be â€¹"412-268-3259"â€º. 
I, [2020-03-30T17:12:58.149501 #21825]  INFO -- : --------------------------------------------------------------------------
D, [2020-03-30T17:12:58.152840 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-30T17:12:58.153782 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.154360 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.154628 #21825]  INFO -- : ------------------------------------------------------------------------
I, [2020-03-30T17:12:58.154662 #21825]  INFO -- : EmployeeTest: test_: Employee should allow :phone to be â€¹"4122683259"â€º. 
I, [2020-03-30T17:12:58.154682 #21825]  INFO -- : ------------------------------------------------------------------------
D, [2020-03-30T17:12:58.157706 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-30T17:12:58.158614 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.159153 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.159386 #21825]  INFO -- : ------------------------------------------------------------------------------
I, [2020-03-30T17:12:58.159417 #21825]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹"412/268/3259"â€º. 
I, [2020-03-30T17:12:58.159447 #21825]  INFO -- : ------------------------------------------------------------------------------
D, [2020-03-30T17:12:58.162706 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-30T17:12:58.163604 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.164127 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.164398 #21825]  INFO -- : ------------------------------------------------------------------------------
I, [2020-03-30T17:12:58.164440 #21825]  INFO -- : EmployeeTest: test_: Given context should force employees to have unique ssn. 
I, [2020-03-30T17:12:58.164463 #21825]  INFO -- : ------------------------------------------------------------------------------
D, [2020-03-30T17:12:58.165226 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.166367 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "171455968"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.167632 #21825] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "171455968"], ["date_of_birth", "2001-03-30"], ["phone", "5224930624"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:58.168695 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.169755 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.170757 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.171821 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-30"], ["phone", "4973399885"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:58.172881 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.173861 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.174926 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "158537143"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.175956 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "158537143"], ["date_of_birth", "2004-03-30"], ["phone", "4542457651"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:58.176974 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.177982 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.178996 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "005182012"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.180040 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "005182012"], ["date_of_birth", "1994-03-30"], ["phone", "9916657249"], ["role", "employee"], ["active", 0]]
D, [2020-03-30T17:12:58.181042 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.182090 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.183122 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.184176 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-30"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:58.185194 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.186263 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.187272 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.188303 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-30"], ["phone", "2921631910"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:58.189335 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.190351 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.191343 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "190251378"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.192382 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "190251378"], ["date_of_birth", "2001-03-30"], ["phone", "7886816483"], ["role", "admin"], ["active", 1]]
D, [2020-03-30T17:12:58.193385 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.194925 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084359822"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.196097 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.196713 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:58.197237 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.197692 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.198223 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:58.198742 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.199158 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.199730 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:58.200256 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.200700 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.201220 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-30T17:12:58.201841 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.202222 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.202818 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-30T17:12:58.203323 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.203764 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.204305 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-30T17:12:58.204852 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.205225 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.205825 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-30T17:12:58.206320 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.206941 #21825] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.207590 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.207832 #21825]  INFO -- : ------------------------------------------------------------------------------------
I, [2020-03-30T17:12:58.207864 #21825]  INFO -- : EmployeeTest: test_: Employee should allow :date_of_birth to be â€¹Wed, 30 Mar 2005â€º. 
I, [2020-03-30T17:12:58.207883 #21825]  INFO -- : ------------------------------------------------------------------------------------
D, [2020-03-30T17:12:58.211288 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-30T17:12:58.212220 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.212799 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.213061 #21825]  INFO -- : ------------------------------------------------------------
I, [2020-03-30T17:12:58.213093 #21825]  INFO -- : EmployeeTest: test_: Employee should have many assignments. 
I, [2020-03-30T17:12:58.213121 #21825]  INFO -- : ------------------------------------------------------------
D, [2020-03-30T17:12:58.213463 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.214003 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.214227 #21825]  INFO -- : ------------------------------------------------------------------------------------
I, [2020-03-30T17:12:58.214259 #21825]  INFO -- : EmployeeTest: test_: Given context should shows that over_18? boolean method works. 
I, [2020-03-30T17:12:58.214278 #21825]  INFO -- : ------------------------------------------------------------------------------------
D, [2020-03-30T17:12:58.214993 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.216164 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "262696209"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.217412 #21825] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "262696209"], ["date_of_birth", "2001-03-30"], ["phone", "6616139389"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:58.218520 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.219587 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.220675 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.221800 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-30"], ["phone", "2467309116"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:58.222840 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.223838 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.224933 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "193507232"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.226032 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "193507232"], ["date_of_birth", "2004-03-30"], ["phone", "5388303440"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:58.227138 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.228140 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.229209 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "345356571"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.230296 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "345356571"], ["date_of_birth", "1994-03-30"], ["phone", "6811488915"], ["role", "employee"], ["active", 0]]
D, [2020-03-30T17:12:58.231368 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.232399 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.233445 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.234523 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-30"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:58.235574 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.236602 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.237646 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.238710 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-30"], ["phone", "7540513250"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:58.239779 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.240776 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.241806 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "220187669"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.242868 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "220187669"], ["date_of_birth", "2001-03-30"], ["phone", "2469223416"], ["role", "admin"], ["active", 1]]
D, [2020-03-30T17:12:58.243966 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.244716 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.245288 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:58.245850 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.246261 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.246822 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:58.247378 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.247790 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.248333 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:58.248909 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.249288 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.249866 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-30T17:12:58.250382 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.250821 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.251396 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-30T17:12:58.251913 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.252327 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.252894 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-30T17:12:58.253444 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.253854 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.254422 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-30T17:12:58.254970 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.255583 #21825] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.256174 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.256427 #21825]  INFO -- : -------------------------------------------------------------------------
I, [2020-03-30T17:12:58.256472 #21825]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹"2683259"â€º. 
I, [2020-03-30T17:12:58.256493 #21825]  INFO -- : -------------------------------------------------------------------------
D, [2020-03-30T17:12:58.260044 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-30T17:12:58.260959 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.261576 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.261852 #21825]  INFO -- : -------------------------------------------------------------------------------
I, [2020-03-30T17:12:58.261887 #21825]  INFO -- : EmployeeTest: test_: Given context should shows that there is one admin: Alex. 
I, [2020-03-30T17:12:58.261907 #21825]  INFO -- : -------------------------------------------------------------------------------
D, [2020-03-30T17:12:58.262683 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.263834 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "179028531"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.265092 #21825] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "179028531"], ["date_of_birth", "2001-03-30"], ["phone", "1055953648"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:58.266204 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.267278 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.268305 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.269328 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-30"], ["phone", "7408395645"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:58.270459 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.271401 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.272425 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "164082441"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.273446 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "164082441"], ["date_of_birth", "2004-03-30"], ["phone", "6672500906"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:58.274530 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.275538 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.276523 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "060635112"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.277537 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "060635112"], ["date_of_birth", "1994-03-30"], ["phone", "5054306911"], ["role", "employee"], ["active", 0]]
D, [2020-03-30T17:12:58.278662 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.279717 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.280720 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.281867 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-30"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:58.282892 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.283941 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.284944 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.286007 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-30"], ["phone", "5512504475"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:58.287038 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.287996 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.289025 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "018992762"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.290091 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "018992762"], ["date_of_birth", "2001-03-30"], ["phone", "6969364741"], ["role", "admin"], ["active", 1]]
D, [2020-03-30T17:12:58.291156 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.291942 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees" WHERE (role = 'admin')[0m
D, [2020-03-30T17:12:58.292629 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE (role = 'admin')[0m
D, [2020-03-30T17:12:58.293197 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.293861 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:58.294396 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.294850 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.295393 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:58.295963 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.296337 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.296890 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:58.297439 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.297891 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.298491 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-30T17:12:58.299025 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.299458 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.300040 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-30T17:12:58.300558 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.300990 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.301541 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-30T17:12:58.302070 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.302483 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.303084 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-30T17:12:58.303667 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.304262 #21825] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.304882 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.305144 #21825]  INFO -- : ------------------------------------------------------------------------------------
I, [2020-03-30T17:12:58.305177 #21825]  INFO -- : EmployeeTest: test_: Employee should allow :date_of_birth to be â€¹Thu, 30 Mar 2006â€º. 
I, [2020-03-30T17:12:58.305207 #21825]  INFO -- : ------------------------------------------------------------------------------------
D, [2020-03-30T17:12:58.308541 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-30T17:12:58.309486 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.310084 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.310333 #21825]  INFO -- : ----------------------------------------------------------------------------------------------------------------
I, [2020-03-30T17:12:58.310365 #21825]  INFO -- : EmployeeTest: test_: Given context should shows that there are 4 regular employees: Ed, Cindy, Chuck and Ralph. 
I, [2020-03-30T17:12:58.310385 #21825]  INFO -- : ----------------------------------------------------------------------------------------------------------------
D, [2020-03-30T17:12:58.311107 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.312233 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "077746434"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.313491 #21825] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "077746434"], ["date_of_birth", "2001-03-30"], ["phone", "2329332024"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:58.314720 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.315804 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.316898 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.317996 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-30"], ["phone", "8647763862"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:58.319027 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.320026 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.321040 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "354099686"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.322094 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "354099686"], ["date_of_birth", "2004-03-30"], ["phone", "4315543979"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:58.323179 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.324172 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.325220 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "147587720"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.326317 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "147587720"], ["date_of_birth", "1994-03-30"], ["phone", "4739978519"], ["role", "employee"], ["active", 0]]
D, [2020-03-30T17:12:58.327344 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.328402 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.329425 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.330585 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-30"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:58.331694 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.332761 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.333840 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.334889 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-30"], ["phone", "7846902575"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:58.335956 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.336915 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.337952 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "377074354"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.339014 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "377074354"], ["date_of_birth", "2001-03-30"], ["phone", "8872937199"], ["role", "admin"], ["active", 1]]
D, [2020-03-30T17:12:58.340095 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.340835 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees" WHERE (role = 'employee')[0m
D, [2020-03-30T17:12:58.341503 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE (role = 'employee')[0m
D, [2020-03-30T17:12:58.342153 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.342748 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:58.343321 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.343745 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.344321 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:58.344886 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.345278 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.345887 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:58.346387 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.346810 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.347359 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-30T17:12:58.347920 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.348339 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.348925 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-30T17:12:58.349503 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.349931 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.350486 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-30T17:12:58.351022 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.351423 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.351969 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-30T17:12:58.352537 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.353116 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.353796 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.354049 #21825]  INFO -- : --------------------------------------------------------------------------
I, [2020-03-30T17:12:58.354082 #21825]  INFO -- : EmployeeTest: test_: Employee should allow :phone to be â€¹"412.268.3259"â€º. 
I, [2020-03-30T17:12:58.354103 #21825]  INFO -- : --------------------------------------------------------------------------
D, [2020-03-30T17:12:58.357479 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-30T17:12:58.358481 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.359115 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.359393 #21825]  INFO -- : --------------------------------------------------------------------------------------------
I, [2020-03-30T17:12:58.359444 #21825]  INFO -- : EmployeeTest: test_: Given context should shows that Ben's phone is stripped of non-digits. 
I, [2020-03-30T17:12:58.359470 #21825]  INFO -- : --------------------------------------------------------------------------------------------
D, [2020-03-30T17:12:58.360272 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.361507 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "032857528"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.362852 #21825] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "032857528"], ["date_of_birth", "2001-03-30"], ["phone", "4173777105"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:58.366635 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.367766 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.368874 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.369990 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-30"], ["phone", "7753261650"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:58.370987 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.371996 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.373043 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "225324179"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.374064 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "225324179"], ["date_of_birth", "2004-03-30"], ["phone", "8302220271"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:58.375080 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.376062 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.377092 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "093166191"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.378106 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "093166191"], ["date_of_birth", "1994-03-30"], ["phone", "2884622348"], ["role", "employee"], ["active", 0]]
D, [2020-03-30T17:12:58.379143 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.380172 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.381179 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.382244 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-30"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:58.383239 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.384311 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.385311 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.386323 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-30"], ["phone", "2086057782"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:58.387391 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.388339 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.389313 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "113994874"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.390330 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "113994874"], ["date_of_birth", "2001-03-30"], ["phone", "8603677801"], ["role", "admin"], ["active", 1]]
D, [2020-03-30T17:12:58.391333 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.391801 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.392394 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:58.392925 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.393345 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.393904 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:58.394400 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.394799 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.395364 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:58.395890 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.396319 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.396887 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-30T17:12:58.397386 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.397803 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.398354 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-30T17:12:58.398854 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.399240 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.399820 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-30T17:12:58.400344 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.400766 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.401291 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-30T17:12:58.401902 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.402472 #21825] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.403104 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.403385 #21825]  INFO -- : ---------------------------------------------------------------------------------
I, [2020-03-30T17:12:58.403420 #21825]  INFO -- : EmployeeTest: test_: Given context should show there are two employees under 18. 
I, [2020-03-30T17:12:58.403450 #21825]  INFO -- : ---------------------------------------------------------------------------------
D, [2020-03-30T17:12:58.404207 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.405522 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "114658971"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.406833 #21825] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "114658971"], ["date_of_birth", "2001-03-30"], ["phone", "5975869783"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:58.407840 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.408877 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.409994 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.411012 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-30"], ["phone", "9858257385"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:58.412026 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.412972 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.414014 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "235496657"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.415028 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "235496657"], ["date_of_birth", "2004-03-30"], ["phone", "0008389172"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:58.415995 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.416978 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.418011 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "387057808"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.419030 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "387057808"], ["date_of_birth", "1994-03-30"], ["phone", "6485916624"], ["role", "employee"], ["active", 0]]
D, [2020-03-30T17:12:58.419973 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.420984 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.421979 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.423037 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-30"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:58.424064 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.425117 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.426150 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.427180 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-30"], ["phone", "4073397414"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:58.428211 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.429133 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.430144 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "097090873"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.431168 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "097090873"], ["date_of_birth", "2001-03-30"], ["phone", "3680754828"], ["role", "admin"], ["active", 1]]
D, [2020-03-30T17:12:58.432180 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.433051 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees" WHERE (date_of_birth > '2002-03-30')[0m
D, [2020-03-30T17:12:58.433872 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE (date_of_birth > '2002-03-30')[0m
D, [2020-03-30T17:12:58.434426 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.435016 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:58.435565 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.435985 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.436524 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:58.437041 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.437455 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.438019 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:58.438542 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.438961 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.439535 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-30T17:12:58.440074 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.440491 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.441012 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-30T17:12:58.441532 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.441957 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.442522 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-30T17:12:58.443035 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.443464 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.444007 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-30T17:12:58.444525 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.445080 #21825] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.445718 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.445996 #21825]  INFO -- : ---------------------------------------------------------------------------
I, [2020-03-30T17:12:58.446038 #21825]  INFO -- : EmployeeTest: test_: Employee should have many stores through assignments. 
I, [2020-03-30T17:12:58.446058 #21825]  INFO -- : ---------------------------------------------------------------------------
D, [2020-03-30T17:12:58.447069 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.447584 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.447810 #21825]  INFO -- : --------------------------------------------------------------------------
I, [2020-03-30T17:12:58.447841 #21825]  INFO -- : EmployeeTest: test_: Employee should not allow :ssn to be â€¹"1234567890"â€º. 
I, [2020-03-30T17:12:58.447860 #21825]  INFO -- : --------------------------------------------------------------------------
D, [2020-03-30T17:12:58.450932 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "1234567890"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.451931 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.452476 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.452698 #21825]  INFO -- : ---------------------------------------------------------------------
I, [2020-03-30T17:12:58.452730 #21825]  INFO -- : EmployeeTest: test_: Employee should allow :ssn to be â€¹"123456789"â€º. 
I, [2020-03-30T17:12:58.452750 #21825]  INFO -- : ---------------------------------------------------------------------
D, [2020-03-30T17:12:58.455399 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "123456789"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.456327 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.456877 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.457145 #21825]  INFO -- : -------------------------------------------------------------------------------------
I, [2020-03-30T17:12:58.457177 #21825]  INFO -- : EmployeeTest: test_: Employee should validate that :last_name cannot be empty/falsy. 
I, [2020-03-30T17:12:58.457197 #21825]  INFO -- : -------------------------------------------------------------------------------------
D, [2020-03-30T17:12:58.460834 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-30T17:12:58.461718 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.462268 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.462503 #21825]  INFO -- : -------------------------------------------------------------------------------------
I, [2020-03-30T17:12:58.462536 #21825]  INFO -- : EmployeeTest: test_: Given context should have all inactive employees accounted for. 
I, [2020-03-30T17:12:58.462556 #21825]  INFO -- : -------------------------------------------------------------------------------------
D, [2020-03-30T17:12:58.463303 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.464402 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "139083342"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.465610 #21825] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "139083342"], ["date_of_birth", "2001-03-30"], ["phone", "0257541149"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:58.466693 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.467707 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.468708 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.469791 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-30"], ["phone", "7288272990"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:58.470845 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.471775 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.472769 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "259613162"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.473807 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "259613162"], ["date_of_birth", "2004-03-30"], ["phone", "6242832501"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:58.474792 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.475767 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.476808 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "180909019"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.477860 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "180909019"], ["date_of_birth", "1994-03-30"], ["phone", "6487296477"], ["role", "employee"], ["active", 0]]
D, [2020-03-30T17:12:58.478851 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.479895 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.480870 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.481908 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-30"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:58.482927 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.483925 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.484914 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.485953 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-30"], ["phone", "7676199108"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:58.486981 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.487904 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.488902 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "282007548"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.489884 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "282007548"], ["date_of_birth", "2001-03-30"], ["phone", "7864882011"], ["role", "admin"], ["active", 1]]
D, [2020-03-30T17:12:58.490947 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.491748 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees" WHERE "employees"."active" != ?[0m  [["active", 1]]
D, [2020-03-30T17:12:58.492517 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" != ?[0m  [["active", 1]]
D, [2020-03-30T17:12:58.493308 #21825] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" != ?[0m  [["active", 1]]
D, [2020-03-30T17:12:58.493891 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.494474 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:58.495024 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.495455 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.496043 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:58.496572 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.496962 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.497520 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:58.498073 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.498470 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.499003 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-30T17:12:58.499548 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.499953 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.500489 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-30T17:12:58.501062 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.501456 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.502029 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-30T17:12:58.502548 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.502965 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.503498 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-30T17:12:58.504001 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.504558 #21825] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.505187 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.505476 #21825]  INFO -- : -------------------------------------------------------------------
I, [2020-03-30T17:12:58.505509 #21825]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹nilâ€º. 
I, [2020-03-30T17:12:58.505528 #21825]  INFO -- : -------------------------------------------------------------------
D, [2020-03-30T17:12:58.508996 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-30T17:12:58.509908 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.510462 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.510712 #21825]  INFO -- : ----------------------------------------------------------------------------
I, [2020-03-30T17:12:58.510744 #21825]  INFO -- : EmployeeTest: test_: Employee should allow :phone to be â€¹"(412) 268-3259"â€º. 
I, [2020-03-30T17:12:58.510764 #21825]  INFO -- : ----------------------------------------------------------------------------
D, [2020-03-30T17:12:58.513760 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-30T17:12:58.514615 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.515166 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.515394 #21825]  INFO -- : -----------------------------------------------------------------------------
I, [2020-03-30T17:12:58.515426 #21825]  INFO -- : EmployeeTest: test_: Employee should not allow :date_of_birth to be â€¹"bad"â€º. 
I, [2020-03-30T17:12:58.515470 #21825]  INFO -- : -----------------------------------------------------------------------------
D, [2020-03-30T17:12:58.518683 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-30T17:12:58.519554 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.520116 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.520344 #21825]  INFO -- : -----------------------------------------------------------------
I, [2020-03-30T17:12:58.520375 #21825]  INFO -- : EmployeeTest: test_: Employee should not allow :role to be â€¹10â€º. 
I, [2020-03-30T17:12:58.520395 #21825]  INFO -- : -----------------------------------------------------------------
D, [2020-03-30T17:12:58.523255 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-30T17:12:58.524198 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.524742 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.525001 #21825]  INFO -- : -----------------------------------------------------------------------------------
I, [2020-03-30T17:12:58.525034 #21825]  INFO -- : EmployeeTest: test_: Given context should have all active employees accounted for. 
I, [2020-03-30T17:12:58.525053 #21825]  INFO -- : -----------------------------------------------------------------------------------
D, [2020-03-30T17:12:58.525867 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.526994 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "134972103"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.528259 #21825] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "134972103"], ["date_of_birth", "2001-03-30"], ["phone", "0376935336"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:58.529332 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.530405 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.531460 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.532560 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-30"], ["phone", "7877290957"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:58.533696 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.534673 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.535739 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "229015390"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.536779 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "229015390"], ["date_of_birth", "2004-03-30"], ["phone", "5817830612"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:58.537968 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.538937 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.539977 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "162356722"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.541022 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "162356722"], ["date_of_birth", "1994-03-30"], ["phone", "3207319358"], ["role", "employee"], ["active", 0]]
D, [2020-03-30T17:12:58.542082 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.543057 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.544096 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.545113 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-30"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:58.546213 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.547171 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.548188 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.549260 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-30"], ["phone", "6451998960"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:58.550318 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.551281 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.552274 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "273803943"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.553332 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "273803943"], ["date_of_birth", "2001-03-30"], ["phone", "8643953953"], ["role", "admin"], ["active", 1]]
D, [2020-03-30T17:12:58.554371 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.555145 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:58.555850 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:58.556839 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:58.557653 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.558281 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:58.558823 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.559258 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.559801 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:58.560309 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.560710 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.561277 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:58.561831 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.562271 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.562855 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-30T17:12:58.563395 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.563787 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.564323 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-30T17:12:58.564860 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.565257 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.565831 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-30T17:12:58.566375 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.566775 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.567337 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-30T17:12:58.567880 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.568505 #21825] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.569143 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.569374 #21825]  INFO -- : --------------------------------------------------------------------------
I, [2020-03-30T17:12:58.569406 #21825]  INFO -- : EmployeeTest: test_: Given context should shows name as last, first name. 
I, [2020-03-30T17:12:58.569426 #21825]  INFO -- : --------------------------------------------------------------------------
D, [2020-03-30T17:12:58.570248 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.571429 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "317368676"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.572629 #21825] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "317368676"], ["date_of_birth", "2001-03-30"], ["phone", "2770588209"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:58.573754 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.574817 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.575859 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.576916 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-30"], ["phone", "9979645354"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:58.577970 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.578933 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.579965 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "054053468"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.581017 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "054053468"], ["date_of_birth", "2004-03-30"], ["phone", "5272146427"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:58.582090 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.583121 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.584143 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "051960341"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.585196 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "051960341"], ["date_of_birth", "1994-03-30"], ["phone", "4031929342"], ["role", "employee"], ["active", 0]]
D, [2020-03-30T17:12:58.586249 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.587307 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.588302 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.589327 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-30"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:58.590358 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.591425 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.592429 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.593476 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-30"], ["phone", "3753957120"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:58.594490 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.595448 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.596469 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "024276159"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.597513 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "024276159"], ["date_of_birth", "2001-03-30"], ["phone", "8712574083"], ["role", "admin"], ["active", 1]]
D, [2020-03-30T17:12:58.598528 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.598987 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.599609 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:58.600137 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.600576 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.601186 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:58.601761 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.602186 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.602784 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:58.603302 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.603706 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.604247 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-30T17:12:58.604790 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.605223 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.605816 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-30T17:12:58.606332 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.606764 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.607285 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-30T17:12:58.607834 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.608227 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.608759 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-30T17:12:58.609265 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.609889 #21825] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.610514 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.610755 #21825]  INFO -- : -------------------------------------------------------------------
I, [2020-03-30T17:12:58.610786 #21825]  INFO -- : EmployeeTest: test_: Employee should not allow :role to be â€¹"vp"â€º. 
I, [2020-03-30T17:12:58.610806 #21825]  INFO -- : -------------------------------------------------------------------
D, [2020-03-30T17:12:58.613945 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-30T17:12:58.614860 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.615665 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.615914 #21825]  INFO -- : ------------------------------------------------------------------
I, [2020-03-30T17:12:58.615946 #21825]  INFO -- : EmployeeTest: test_: Employee should allow :role to be â€¹"admin"â€º. 
I, [2020-03-30T17:12:58.615968 #21825]  INFO -- : ------------------------------------------------------------------
D, [2020-03-30T17:12:58.618938 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-30T17:12:58.619543 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.620059 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.620308 #21825]  INFO -- : --------------------------------------------------------------------------------------------
I, [2020-03-30T17:12:58.620340 #21825]  INFO -- : EmployeeTest: test_: Given context should shows that Cindy's ssn is stripped of non-digits. 
I, [2020-03-30T17:12:58.620360 #21825]  INFO -- : --------------------------------------------------------------------------------------------
D, [2020-03-30T17:12:58.621146 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.622248 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "033533925"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.623502 #21825] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "033533925"], ["date_of_birth", "2001-03-30"], ["phone", "0132706333"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:58.624619 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.625682 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.626716 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.627799 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-30"], ["phone", "7089219978"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:58.628872 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.629914 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.630990 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "138138362"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.632060 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "138138362"], ["date_of_birth", "2004-03-30"], ["phone", "2932785208"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:58.633151 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.634167 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.635212 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "385353928"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.636261 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "385353928"], ["date_of_birth", "1994-03-30"], ["phone", "1432471898"], ["role", "employee"], ["active", 0]]
D, [2020-03-30T17:12:58.637340 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.638373 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.639412 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.640479 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-30"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:58.641541 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.642577 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.643570 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.644632 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-30"], ["phone", "0202634059"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:58.645725 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.646727 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.647704 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "336798220"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.648778 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "336798220"], ["date_of_birth", "2001-03-30"], ["phone", "6502832480"], ["role", "admin"], ["active", 1]]
D, [2020-03-30T17:12:58.649844 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.650297 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.650907 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:58.651428 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.651831 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.652399 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:58.652929 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.653365 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.653923 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:58.654519 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.654903 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.655483 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-30T17:12:58.656029 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.656415 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.656964 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-30T17:12:58.657546 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.657979 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.658543 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-30T17:12:58.659073 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.659515 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.660059 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-30T17:12:58.660631 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.661197 #21825] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.661874 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.662115 #21825]  INFO -- : -------------------------------------------------------------------------------
I, [2020-03-30T17:12:58.662147 #21825]  INFO -- : EmployeeTest: test_: Employee should validate that :ssn cannot be empty/falsy. 
I, [2020-03-30T17:12:58.662166 #21825]  INFO -- : -------------------------------------------------------------------------------
D, [2020-03-30T17:12:58.666140 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-30T17:12:58.667083 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.667655 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.667888 #21825]  INFO -- : ---------------------------------------------------------------------
I, [2020-03-30T17:12:58.667920 #21825]  INFO -- : EmployeeTest: test_: Given context should have a make_active method. 
I, [2020-03-30T17:12:58.667939 #21825]  INFO -- : ---------------------------------------------------------------------
D, [2020-03-30T17:12:58.668709 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.669859 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "112751122"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.671093 #21825] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "112751122"], ["date_of_birth", "2001-03-30"], ["phone", "1261512132"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:58.672161 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.673179 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.674262 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.675379 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-30"], ["phone", "5159942496"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:58.676467 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.677473 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.678572 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "337143777"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.679615 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "337143777"], ["date_of_birth", "2004-03-30"], ["phone", "1948023445"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:58.680761 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.681840 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.682909 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "243681213"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.683999 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "243681213"], ["date_of_birth", "1994-03-30"], ["phone", "6687648678"], ["role", "employee"], ["active", 0]]
D, [2020-03-30T17:12:58.685129 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.686131 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.687160 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.688231 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-30"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:58.689304 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.690348 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.691326 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.692347 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-30"], ["phone", "2692082329"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:58.693390 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.694388 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.695369 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "316166847"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.696382 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "316166847"], ["date_of_birth", "2001-03-30"], ["phone", "7555538078"], ["role", "admin"], ["active", 1]]
D, [2020-03-30T17:12:58.697472 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.697948 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.699064 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "243681213"], ["id", 4], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.700186 #21825] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "active" = ? WHERE "employees"."id" = ?[0m  [["active", 1], ["id", 4]]
D, [2020-03-30T17:12:58.700861 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.701610 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.702534 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.703136 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:58.703666 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.704114 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.704650 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:58.705160 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.705569 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.706156 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:58.706730 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.707145 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.707771 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-30T17:12:58.708304 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.708729 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.709284 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-30T17:12:58.709876 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.710291 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.710851 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-30T17:12:58.711419 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.711830 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.712395 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-30T17:12:58.712989 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.713581 #21825] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.714212 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.714465 #21825]  INFO -- : --------------------------------------------------------------------------------
I, [2020-03-30T17:12:58.714499 #21825]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹"4122683259x224"â€º. 
I, [2020-03-30T17:12:58.714523 #21825]  INFO -- : --------------------------------------------------------------------------------
D, [2020-03-30T17:12:58.718047 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-30T17:12:58.718989 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.719598 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.719841 #21825]  INFO -- : -------------------------------------------------------------------
I, [2020-03-30T17:12:58.719873 #21825]  INFO -- : EmployeeTest: test_: Employee should not allow :ssn to be â€¹"bad"â€º. 
I, [2020-03-30T17:12:58.719894 #21825]  INFO -- : -------------------------------------------------------------------
D, [2020-03-30T17:12:58.722880 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "bad"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.723893 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.724436 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.724702 #21825]  INFO -- : ---------------------------------------------------------------------------------
I, [2020-03-30T17:12:58.724734 #21825]  INFO -- : EmployeeTest: test_: Given context should show there are four employees over 18. 
I, [2020-03-30T17:12:58.724754 #21825]  INFO -- : ---------------------------------------------------------------------------------
D, [2020-03-30T17:12:58.725571 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.726783 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "058076048"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.728066 #21825] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "058076048"], ["date_of_birth", "2001-03-30"], ["phone", "2691473567"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:58.729221 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.730307 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.731395 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.732558 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-30"], ["phone", "6982335010"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:58.733722 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.734746 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.735847 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "126963722"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.736953 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "126963722"], ["date_of_birth", "2004-03-30"], ["phone", "2116928199"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:58.738039 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.739108 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.740207 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "093539751"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.741349 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "093539751"], ["date_of_birth", "1994-03-30"], ["phone", "7032572002"], ["role", "employee"], ["active", 0]]
D, [2020-03-30T17:12:58.744939 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.746087 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.747189 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.748254 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-30"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:58.749226 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.750301 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.751364 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.752429 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-30"], ["phone", "5397182688"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:58.753440 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.754470 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.755522 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "172083656"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.756573 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "172083656"], ["date_of_birth", "2001-03-30"], ["phone", "3934325339"], ["role", "admin"], ["active", 1]]
D, [2020-03-30T17:12:58.757577 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.758529 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees" WHERE (date_of_birth <= '2002-03-30')[0m
D, [2020-03-30T17:12:58.759493 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE (date_of_birth <= '2002-03-30') ORDER BY last_name, first_name[0m
D, [2020-03-30T17:12:58.760142 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.760759 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:58.761284 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.761752 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.762288 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:58.762806 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.763183 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.763766 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:58.764291 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.764742 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.765315 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-30T17:12:58.765883 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.766291 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.766890 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-30T17:12:58.767393 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.767814 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.768349 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-30T17:12:58.768925 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.769322 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.769920 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-30T17:12:58.770451 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.771058 #21825] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.771672 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.771904 #21825]  INFO -- : ------------------------------------------------------------------------
I, [2020-03-30T17:12:58.771936 #21825]  INFO -- : EmployeeTest: test_: Employee should not allow :ssn to be â€¹"12345678"â€º. 
I, [2020-03-30T17:12:58.771956 #21825]  INFO -- : ------------------------------------------------------------------------
D, [2020-03-30T17:12:58.775378 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "12345678"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.776416 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.777047 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.777285 #21825]  INFO -- : ----------------------------------------------------------------------
I, [2020-03-30T17:12:58.777318 #21825]  INFO -- : EmployeeTest: test_: Given context should DO NOT REMOVE: AUTOGRADING. 
I, [2020-03-30T17:12:58.777337 #21825]  INFO -- : ----------------------------------------------------------------------
D, [2020-03-30T17:12:58.778163 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.779314 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "034212818"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.780556 #21825] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "034212818"], ["date_of_birth", "2001-03-30"], ["phone", "3770795693"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:58.781701 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.782748 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.783793 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.784884 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-30"], ["phone", "0375073257"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:58.786011 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.786993 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.788016 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "152326983"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.789054 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "152326983"], ["date_of_birth", "2004-03-30"], ["phone", "8276520584"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:58.790069 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.791086 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.792100 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "150174884"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.793139 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "150174884"], ["date_of_birth", "1994-03-30"], ["phone", "9462492959"], ["role", "employee"], ["active", 0]]
D, [2020-03-30T17:12:58.794151 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.795183 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.796156 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.797151 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-30"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:58.798184 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.799245 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.800253 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.801278 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-30"], ["phone", "0540745872"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:58.802295 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.803272 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.804251 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "038005241"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.805285 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "038005241"], ["date_of_birth", "2001-03-30"], ["phone", "1956087337"], ["role", "admin"], ["active", 1]]
D, [2020-03-30T17:12:58.806323 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.806751 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.807359 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:58.807913 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.808363 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.808935 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:58.809475 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.809879 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.810416 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:58.810934 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.811362 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.811938 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-30T17:12:58.812483 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.812917 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.813479 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-30T17:12:58.814030 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.814409 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.814966 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-30T17:12:58.815479 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.815893 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.816468 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-30T17:12:58.817008 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.817604 #21825] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.818288 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.818536 #21825]  INFO -- : -------------------------------------------------------------------------
I, [2020-03-30T17:12:58.818569 #21825]  INFO -- : EmployeeTest: test_: Given context should list employees alphabetically. 
I, [2020-03-30T17:12:58.818589 #21825]  INFO -- : -------------------------------------------------------------------------
D, [2020-03-30T17:12:58.819374 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.820593 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "066830566"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.821848 #21825] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "066830566"], ["date_of_birth", "2001-03-30"], ["phone", "3294950365"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:58.822926 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.824003 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.825070 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.826175 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-30"], ["phone", "5682632768"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:58.827231 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.828214 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.829306 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082090714"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.830472 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "082090714"], ["date_of_birth", "2004-03-30"], ["phone", "7503206183"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:58.831495 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.832504 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.833538 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "089450394"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.834584 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "089450394"], ["date_of_birth", "1994-03-30"], ["phone", "7397904085"], ["role", "employee"], ["active", 0]]
D, [2020-03-30T17:12:58.835585 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.836621 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.837643 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.838667 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-30"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:58.839667 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.840721 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.841790 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.842823 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-30"], ["phone", "9063775223"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:58.843821 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.844821 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.845874 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "288037753"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.846891 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "288037753"], ["date_of_birth", "2001-03-30"], ["phone", "4140979874"], ["role", "admin"], ["active", 1]]
D, [2020-03-30T17:12:58.847875 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.848568 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" ORDER BY last_name, first_name[0m
D, [2020-03-30T17:12:58.849277 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.849869 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:58.850392 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.850828 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.851368 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:58.851873 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.852287 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.852872 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:58.853404 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.853823 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.854384 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-30T17:12:58.854927 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.855319 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.855904 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-30T17:12:58.856391 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.856796 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.857355 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-30T17:12:58.857914 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.858303 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.858873 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-30T17:12:58.859404 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.860007 #21825] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.860613 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.860849 #21825]  INFO -- : ------------------------------------------------------------------------------
I, [2020-03-30T17:12:58.860889 #21825]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹"412-2683-259"â€º. 
I, [2020-03-30T17:12:58.860911 #21825]  INFO -- : ------------------------------------------------------------------------------
D, [2020-03-30T17:12:58.864385 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-30T17:12:58.865281 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.865904 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.866130 #21825]  INFO -- : ---------------------------------------------------------------------
I, [2020-03-30T17:12:58.866162 #21825]  INFO -- : EmployeeTest: test_: Employee should allow :role to be â€¹"employee"â€º. 
I, [2020-03-30T17:12:58.866223 #21825]  INFO -- : ---------------------------------------------------------------------
D, [2020-03-30T17:12:58.869043 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-30T17:12:58.869634 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.870184 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.870456 #21825]  INFO -- : --------------------------------------------------------------------
I, [2020-03-30T17:12:58.870489 #21825]  INFO -- : EmployeeTest: test_: Employee should allow :role to be â€¹"manager"â€º. 
I, [2020-03-30T17:12:58.870510 #21825]  INFO -- : --------------------------------------------------------------------
D, [2020-03-30T17:12:58.873332 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-30T17:12:58.873924 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.874493 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.874725 #21825]  INFO -- : --------------------------------------------------------------------
I, [2020-03-30T17:12:58.874756 #21825]  INFO -- : EmployeeTest: test_: Employee should not allow :role to be â€¹"bad"â€º. 
I, [2020-03-30T17:12:58.874776 #21825]  INFO -- : --------------------------------------------------------------------
D, [2020-03-30T17:12:58.877578 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-30T17:12:58.878475 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.879020 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.879256 #21825]  INFO -- : -----------------------------------------------------------------
I, [2020-03-30T17:12:58.879288 #21825]  INFO -- : EmployeeTest: test_: Employee should not allow :ssn to be â€¹nilâ€º. 
I, [2020-03-30T17:12:58.879309 #21825]  INFO -- : -----------------------------------------------------------------
D, [2020-03-30T17:12:58.882578 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-30T17:12:58.883494 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.884038 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.884263 #21825]  INFO -- : -----------------------------------------------------------------------
I, [2020-03-30T17:12:58.884294 #21825]  INFO -- : EmployeeTest: test_: Given context should have a make_inactive method. 
I, [2020-03-30T17:12:58.884313 #21825]  INFO -- : -----------------------------------------------------------------------
D, [2020-03-30T17:12:58.885126 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.886272 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "286451666"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.887538 #21825] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "286451666"], ["date_of_birth", "2001-03-30"], ["phone", "8814007253"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:58.888625 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.889724 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.890817 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.891916 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-30"], ["phone", "7525143254"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:58.892914 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.893906 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.894943 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "294900859"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.895936 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "294900859"], ["date_of_birth", "2004-03-30"], ["phone", "7342406599"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:58.896976 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.897971 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.898953 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "261856699"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.899955 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "261856699"], ["date_of_birth", "1994-03-30"], ["phone", "5646365431"], ["role", "employee"], ["active", 0]]
D, [2020-03-30T17:12:58.901013 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.901997 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.902983 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.904010 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-30"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:58.905040 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.906045 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.907017 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.908063 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-30"], ["phone", "3597543151"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:58.909082 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.910019 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.911015 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "072567326"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.912003 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "072567326"], ["date_of_birth", "2001-03-30"], ["phone", "7515591607"], ["role", "admin"], ["active", 1]]
D, [2020-03-30T17:12:58.913058 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.913489 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.914636 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "294900859"], ["id", 3], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.915705 #21825] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "active" = ? WHERE "employees"."id" = ?[0m  [["active", 0], ["id", 3]]
D, [2020-03-30T17:12:58.916340 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.917063 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.917890 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.918487 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:58.919008 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.919404 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.919936 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:58.920487 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.920867 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.921434 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:58.921999 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.922425 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.923028 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-30T17:12:58.923586 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.923966 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.924544 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-30T17:12:58.925037 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.925439 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.926058 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-30T17:12:58.926604 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.927045 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.927594 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-30T17:12:58.928136 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.928729 #21825] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.929364 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.929654 #21825]  INFO -- : ------------------------------------------------------------------------------------
I, [2020-03-30T17:12:58.929690 #21825]  INFO -- : EmployeeTest: test_: Given context should shows proper name as first and last name. 
I, [2020-03-30T17:12:58.929710 #21825]  INFO -- : ------------------------------------------------------------------------------------
D, [2020-03-30T17:12:58.930496 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.931630 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "377782558"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.932873 #21825] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "377782558"], ["date_of_birth", "2001-03-30"], ["phone", "5806356429"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:58.933961 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.934980 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.936014 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.937075 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-30"], ["phone", "5814683631"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:58.938123 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.939129 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.940153 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "327175312"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.941216 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "327175312"], ["date_of_birth", "2004-03-30"], ["phone", "4632830757"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:58.942286 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.943318 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.944350 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "045147819"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.945415 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "045147819"], ["date_of_birth", "1994-03-30"], ["phone", "5953312015"], ["role", "employee"], ["active", 0]]
D, [2020-03-30T17:12:58.946483 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.947497 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.948548 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.949586 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-30"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:58.950588 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.951612 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.952671 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.953707 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-30"], ["phone", "9049791159"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:58.954721 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.955700 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.956716 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "197217999"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.957766 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "197217999"], ["date_of_birth", "2001-03-30"], ["phone", "6781375029"], ["role", "admin"], ["active", 1]]
D, [2020-03-30T17:12:58.958741 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.959209 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.959851 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:58.960406 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.960819 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.961394 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:58.961943 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.962365 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.962940 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:58.963443 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.963847 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.964368 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-30T17:12:58.964910 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.965351 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.965948 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-30T17:12:58.966510 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.966925 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.967496 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-30T17:12:58.968022 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.968414 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.968963 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-30T17:12:58.969500 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.970180 #21825] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.970831 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.971071 #21825]  INFO -- : ---------------------------------------------------------------------------
I, [2020-03-30T17:12:58.971104 #21825]  INFO -- : EmployeeTest: test_: Employee should not allow :date_of_birth to be â€¹nilâ€º. 
I, [2020-03-30T17:12:58.971124 #21825]  INFO -- : ---------------------------------------------------------------------------
D, [2020-03-30T17:12:58.974722 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-30T17:12:58.975600 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.976172 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.976398 #21825]  INFO -- : ------------------------------------------------------------------------------
I, [2020-03-30T17:12:58.976430 #21825]  INFO -- : EmployeeTest: test_: Employee should not allow :phone to be â€¹"800-EAT-FOOD"â€º. 
I, [2020-03-30T17:12:58.976461 #21825]  INFO -- : ------------------------------------------------------------------------------
D, [2020-03-30T17:12:58.979839 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-30T17:12:58.980752 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.981293 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.981529 #21825]  INFO -- : --------------------------------------------------------------------------------
I, [2020-03-30T17:12:58.981562 #21825]  INFO -- : EmployeeTest: test_: Employee should validate that :role cannot be empty/falsy. 
I, [2020-03-30T17:12:58.981582 #21825]  INFO -- : --------------------------------------------------------------------------------
D, [2020-03-30T17:12:58.985354 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-30T17:12:58.986284 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.986855 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.987123 #21825]  INFO -- : ------------------------------------------------------------------------------------
I, [2020-03-30T17:12:58.987156 #21825]  INFO -- : EmployeeTest: test_: Employee should allow :date_of_birth to be â€¹Sun, 30 Mar 2003â€º. 
I, [2020-03-30T17:12:58.987175 #21825]  INFO -- : ------------------------------------------------------------------------------------
D, [2020-03-30T17:12:58.990311 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-03-30T17:12:58.991244 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:58.991769 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:58.992033 #21825]  INFO -- : ----------------------------------------------------------------------------------------------------
I, [2020-03-30T17:12:58.992065 #21825]  INFO -- : EmployeeTest: test_: Given context should shows return employee's current assignment, if it exists. 
I, [2020-03-30T17:12:58.992090 #21825]  INFO -- : ----------------------------------------------------------------------------------------------------
D, [2020-03-30T17:12:58.992855 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.993976 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "050314289"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.995250 #21825] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "050314289"], ["date_of_birth", "2001-03-30"], ["phone", "1503350093"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:58.996292 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.997332 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:58.998390 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-30T17:12:58.999474 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-30"], ["phone", "4741544123"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:59.000541 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.001554 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.002597 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "205925155"], ["LIMIT", 1]]
D, [2020-03-30T17:12:59.003663 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "205925155"], ["date_of_birth", "2004-03-30"], ["phone", "0547272338"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:59.004736 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.005720 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.006763 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "380220837"], ["LIMIT", 1]]
D, [2020-03-30T17:12:59.007818 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "380220837"], ["date_of_birth", "1994-03-30"], ["phone", "9716413034"], ["role", "employee"], ["active", 0]]
D, [2020-03-30T17:12:59.008840 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.009845 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.010895 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-30T17:12:59.011980 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-30"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:59.012971 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.013997 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.015024 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-30T17:12:59.016100 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-30"], ["phone", "7330090489"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:59.017099 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.018054 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.019071 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "255287573"], ["LIMIT", 1]]
D, [2020-03-30T17:12:59.020141 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "255287573"], ["date_of_birth", "2001-03-30"], ["phone", "4340119665"], ["role", "admin"], ["active", 1]]
D, [2020-03-30T17:12:59.021186 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.021919 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.022835 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-03-30T17:12:59.023853 #21825] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1833541194"], ["active", 1]]
D, [2020-03-30T17:12:59.024921 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.025707 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.026555 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Oakland"], ["LIMIT", 1]]
D, [2020-03-30T17:12:59.027533 #21825] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"], ["active", 1]]
D, [2020-03-30T17:12:59.028563 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.029313 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.030144 #21825] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "Hazelwood"], ["LIMIT", 1]]
D, [2020-03-30T17:12:59.031180 #21825] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7305124077"], ["active", 0]]
D, [2020-03-30T17:12:59.032243 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.033400 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.034498 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:59.035518 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:59.036400 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-03-30T17:12:59.037721 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-03-30T17:12:59.038638 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-03-30"], ["end_date", "2020-02-29"]]
D, [2020-03-30T17:12:59.039515 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.040561 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.041509 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:59.042533 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:59.043378 #21825] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
D, [2020-03-30T17:12:59.044597 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 3], ["LIMIT", 1]]
D, [2020-03-30T17:12:59.045468 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 3], ["start_date", "2019-05-30"]]
D, [2020-03-30T17:12:59.046202 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.047244 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.048210 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:59.049134 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:59.050025 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-03-30T17:12:59.051247 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-03-30T17:12:59.052145 #21825] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2019-01-30"]]
D, [2020-03-30T17:12:59.052867 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.054049 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.055096 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:59.056059 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:59.056929 #21825] DEBUG -- :   [1m[36mEmployee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:59.058200 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:59.059108 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2018-03-30"], ["end_date", "2019-09-30"]]
D, [2020-03-30T17:12:59.059948 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.060932 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.061879 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:59.062874 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:59.063760 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:59.065023 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 5], ["LIMIT", 1]]
D, [2020-03-30T17:12:59.065894 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2019-09-30"]]
D, [2020-03-30T17:12:59.066693 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.067730 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.068671 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:59.069671 #21825] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-03-30T17:12:59.070532 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
D, [2020-03-30T17:12:59.071732 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-30T17:12:59.072645 #21825] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 2], ["employee_id", 6], ["start_date", "2019-05-30"]]
D, [2020-03-30T17:12:59.073368 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.074326 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-30T17:12:59.075233 #21825] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) ORDER BY "assignments"."id" ASC LIMIT ?[0m  [["employee_id", 6], ["LIMIT", 1]]
D, [2020-03-30T17:12:59.076412 #21825] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 7], ["LIMIT", 1]]
D, [2020-03-30T17:12:59.077010 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.077641 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:59.078200 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.078624 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.079193 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:59.079735 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.080147 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.080691 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:59.081211 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.081663 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.082243 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
D, [2020-03-30T17:12:59.082762 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.083189 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.083741 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
D, [2020-03-30T17:12:59.084266 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.084669 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.085222 #21825] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
D, [2020-03-30T17:12:59.085790 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.086200 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.086773 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:59.087327 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.087746 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.088301 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:59.088837 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.089237 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.089849 #21825] DEBUG -- :   [1m[36mStore Destroy (0.1ms)[0m  [1m[31mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:59.090353 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.090788 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.091370 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:59.091935 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.092346 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.092911 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:59.093462 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.093909 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.094487 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:59.095047 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.095486 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.096080 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-30T17:12:59.096625 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.097067 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.097685 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-30T17:12:59.098228 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.098644 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.099192 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-30T17:12:59.099742 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.100145 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.100726 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-30T17:12:59.101256 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.101917 #21825] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-03-30T17:12:59.102554 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-03-30T17:12:59.102803 #21825]  INFO -- : --------------------------------------------------------------------------------------------
I, [2020-03-30T17:12:59.102835 #21825]  INFO -- : EmployeeTest: test_: Given context should shows that there are 2 managers: Ben and Kathryn. 
I, [2020-03-30T17:12:59.102855 #21825]  INFO -- : --------------------------------------------------------------------------------------------
D, [2020-03-30T17:12:59.103671 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.104934 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "066049965"], ["LIMIT", 1]]
D, [2020-03-30T17:12:59.106256 #21825] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "066049965"], ["date_of_birth", "2001-03-30"], ["phone", "7755653531"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:59.107394 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.108509 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.109700 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084-35-9822"], ["LIMIT", 1]]
D, [2020-03-30T17:12:59.110765 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "2003-03-30"], ["phone", "7397755100"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:59.111908 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.112932 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.114048 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "000901924"], ["LIMIT", 1]]
D, [2020-03-30T17:12:59.115110 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "000901924"], ["date_of_birth", "2004-03-30"], ["phone", "9385664061"], ["role", "employee"], ["active", 1]]
D, [2020-03-30T17:12:59.116263 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.117303 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.118386 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "233606466"], ["LIMIT", 1]]
D, [2020-03-30T17:12:59.119430 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Chuck"], ["last_name", "Waldo"], ["ssn", "233606466"], ["date_of_birth", "1994-03-30"], ["phone", "1345217663"], ["role", "employee"], ["active", 0]]
D, [2020-03-30T17:12:59.120596 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.121748 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.122784 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091361492"], ["LIMIT", 1]]
D, [2020-03-30T17:12:59.126277 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "091361492"], ["date_of_birth", "2001-03-30"], ["phone", "4122682323"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:59.127341 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.128419 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.129495 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "082 86 9198"], ["LIMIT", 1]]
D, [2020-03-30T17:12:59.130578 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082869198"], ["date_of_birth", "1990-03-30"], ["phone", "6308324786"], ["role", "manager"], ["active", 1]]
D, [2020-03-30T17:12:59.131637 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.132603 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.133662 #21825] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "282752852"], ["LIMIT", 1]]
D, [2020-03-30T17:12:59.134732 #21825] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "282752852"], ["date_of_birth", "2001-03-30"], ["phone", "7026287753"], ["role", "admin"], ["active", 1]]
D, [2020-03-30T17:12:59.135783 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.136583 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees" WHERE (role = 'manager')[0m
D, [2020-03-30T17:12:59.137288 #21825] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE (role = 'manager')[0m
D, [2020-03-30T17:12:59.137886 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.138489 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
D, [2020-03-30T17:12:59.139046 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.139493 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.140082 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
D, [2020-03-30T17:12:59.140625 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.141072 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.141646 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
D, [2020-03-30T17:12:59.142209 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.142620 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.143180 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
D, [2020-03-30T17:12:59.143722 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.144140 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.144733 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
D, [2020-03-30T17:12:59.145241 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.145710 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.146280 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
D, [2020-03-30T17:12:59.146824 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.147242 #21825] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.147824 #21825] DEBUG -- :   [1m[36mEmployee Destroy (0.1ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
D, [2020-03-30T17:12:59.148351 #21825] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-03-30T17:12:59.148962 #21825] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
